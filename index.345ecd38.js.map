{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-4d16f9a35f7e589a.js","node_modules/@parcel/runtime-js/lib/runtime-d9f2c7acf2cf6a6d.js","src/js/film-modal.js","src/genres.json","src/js/findMovies.js","src/js/auth-modal.js","src/js/modal-developers.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iHCDC\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.345ecd38.js\\\",\\\"iHCDC\\\":\\\"noposter.751b8d89.jpg\\\"}\"));","import { API_KEY, API_URL, createImg, checkAndCreateDate, } from './findMovies';\n\nlet addToLibrBtn;\nlet addToQueueBtn;\n\nconst buttonUpEl = document.querySelector('.button-up');\nconst watchedMoviesStorageName = 'watchedMoviesStorage';\nconst watchedMoviesButtonName = '.add-watched-btn';\nconst queueMoviesStorageName = 'queueMoviesStorage';\nconst queueMoviesButtonName = '.add-queue-btn';\n\nexport async function showModal(e) {\n  console.log(e);\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  document.querySelector('.drop-box').classList.remove('drop-box--is-hidden');\n  buttonUpEl.classList.add('is-hidden');\n  let url = `${API_URL}movie/${e.target.dataset.id}?api_key=${API_KEY}`;\n\n  await fetch(url)\n    .then(response => response.json())\n    .then(movie => {\n      console.log(movie);\n      document\n        .querySelector('.modal-thumb')\n        .insertAdjacentHTML('beforeend', createModalCard(movie));\n      document.querySelector('body').classList.add('overflow-hidden');\n\n      \n      \n\n      // document\n      //   .querySelector('.add-watched-btn')\n      //   .addEventListener('click', onClickWatchedBtn);\n      // document\n      //   .querySelector('.add-queue-btn')\n      //   .addEventListener('click', onClickWatchedBtn);\n      checkButton(movie, watchedMoviesStorageName, watchedMoviesButtonName);\n      checkButton(movie, queueMoviesStorageName, queueMoviesButtonName);\n      writeToStorage(movie, watchedMoviesStorageName, watchedMoviesButtonName);\n      writeToStorage(movie, queueMoviesStorageName, queueMoviesButtonName);\n    })\n    .catch(error => console.log(error));\n\n  addToLibrBtn = document.querySelector('.add-watched-btn');\n  addToQueueBtn = document.querySelector('.add-queue-btn');\n  console.log(addToLibrBtn);\n  console.log(addToQueueBtn);\n}\n\nexport function closeModal() {\n  document.querySelector('.drop-box').classList.add('drop-box--is-hidden');\n  document.querySelector('.modal-thumb').innerHTML = '';\n  document.querySelector('body').classList.remove('overflow-hidden');\n  buttonUpEl.classList.remove('is-hidden');\n  // document.querySelector('.movie-list').removeEventListener('click', showModal);\n  // document.querySelector('#modal-btn').removeEventListener('click', closeModal);\n}\n\nexport function createModalCard(movie) {\n  return `<img class=\"modal__img\" src=\"${createImg(\n    movie.poster_path\n  )}\" alt=\"\" width=\"240\">\n                <div class=\"modal__description-thumb\">\n                    <h2 class=\"modal__title\">${movie.title}</h2>\n                    <ul class=\"movie-data\">\n                        <li>\n                            <ul class=\"movie-data__name\">\n                                <li>Vote / Votes</li>\n                                <li>Popularity</li>\n                                <li>Original Title</li>\n                                <li>Genre</li>\n                            </ul>\n                        </li>\n                        <li>\n                            <ul class=\"movie-data__content\">\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-votes__first\">${\n                                      movie.vote_average\n                                    }</span> / <span class=\"movie-votes__sec\">${\n    movie.vote_count\n  }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-popularity__item\">${\n                                      movie.popularity\n                                    }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-orig-title__item\">${\n                                      movie.original_title\n                                    }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-genre__item\">${createModalGenresString(\n                                      movie.genres\n                                    )}</span>\n                                </li>\n                            </ul>\n                        </li>  \n                    </ul>\n                    \n                    <p class=\"movie-about\">About</p>\n                    <p class=\"movie-about-text\">${movie.overview}</p>\n                    <ul class=\"modal-btns\">\n                        <li class=\"modal-btns__item\">\n                            <button class=\"button add-watched-btn\" type=\"button\">Add to Watched</button>\n                        </li>\n                        <li class=\"modal-btns__item\">\n                            <button class=\"button add-queue-btn\" type=\"button\">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>`;\n}\n\nfunction createModalGenresString(genres) {\n  return genres.map(genre => genre.name).join(', ');\n}\n\nfunction writeToStorage(movie, storageName, buttonName) {\n  document.querySelector(buttonName).addEventListener('click', e => {\n    const movieItem = {\n      id: movie.id,\n      title: movie.title,\n      img: createImg(movie.poster_path),\n      vote_average: movie.vote_average,\n      vote_count: movie.vote_count,\n      popularity: movie.popularity,\n      original_title: movie.original_title,\n      genres: createModalGenresString(movie.genres),\n      overview: movie.overview,\n      date: checkAndCreateDate(movie.release_date),\n    };\n    if (localStorage.getItem(storageName)) {\n      const savedwatchedMovies = JSON.parse(localStorage.getItem(storageName));\n      for (let i = 0; i < savedwatchedMovies.length; i += 1) {\n        if (savedwatchedMovies[i].id === movieItem.id) {\n          e.target.textContent = `Add to ${e.target.textContent.split(' ')[2]}`;\n          savedwatchedMovies.splice(i, 1);\n          localStorage.setItem(storageName, JSON.stringify(savedwatchedMovies));\n          return;\n        }\n      }\n\n      savedwatchedMovies.push(movieItem);\n      localStorage.setItem(storageName, JSON.stringify(savedwatchedMovies));\n      \n      e.target.textContent = `Delete from ${e.target.textContent.split(' ')[2]}`;\n    } else {\n      const savedwatchedMovies = [movieItem];\n      localStorage.setItem(storageName, JSON.stringify(savedwatchedMovies));\n    }\n  });\n}\n\n// function onClickWatchedBtn(e) {\n//   let textBtn = e.target.textContent;\n//   // console.log(e.target.textContent);\n//   if (textBtn === 'Add to Watched') {\n//     e.target.textContent = 'Delete from wathed';\n//   } else if (textBtn === 'Delete from wathed') {\n//     e.target.textContent = 'Add to Watched';\n//   }\n// }\n\nfunction checkButton(movie, storageName, buttonName) {\n  if (localStorage.getItem(storageName)) {\n    const savedwatchedMovies = JSON.parse(localStorage.getItem(storageName));\n    for (let i = 0; i < savedwatchedMovies.length; i += 1) {\n      if (savedwatchedMovies[i].id === movie.id) {          \n        document.querySelector(buttonName).textContent = `Delete from ${document.querySelector(buttonName).textContent.split(' ')[2]}`;          \n      }\n    }\n  }\n}\n","{\"genres\":[{\"id\":28,\"name\":\"Action\"},{\"id\":12,\"name\":\"Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":14,\"name\":\"Fantasy\"},{\"id\":36,\"name\":\"History\"},{\"id\":27,\"name\":\"Horror\"},{\"id\":10402,\"name\":\"Music\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10749,\"name\":\"Romance\"},{\"id\":878,\"name\":\"Science Fiction\"},{\"id\":10770,\"name\":\"TV Movie\"},{\"id\":53,\"name\":\"Thriller\"},{\"id\":10752,\"name\":\"War\"},{\"id\":37,\"name\":\"Western\"},{\"id\":10759,\"name\":\"Action & Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":10762,\"name\":\"Kids\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10763,\"name\":\"News\"},{\"id\":10764,\"name\":\"Reality\"},{\"id\":10765,\"name\":\"Sci-Fi & Fantasy\"},{\"id\":10766,\"name\":\"Soap\"},{\"id\":10767,\"name\":\"Talk\"},{\"id\":10768,\"name\":\"War & Politics\"},{\"id\":37,\"name\":\"Western\"}]}","import { genres } from '../genres.json';\nimport { showModal, closeModal } from './film-modal';\n\nexport const API_URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY = 'afc22cf5c573169849cabd6217d3b7d3';\nlet requestMovie = '';\nlet pageNumber = 1;\nlet totalPages = 1;\nlet searchingFlag = false;\n\nconst inputEl = document.querySelector('.header__input');\nconst searchButtonEl = document.querySelector('.search-btn');\nconst formEl = document.querySelector('.header__form');\nconst movieListEl = document.querySelector('.movie-list');\nconst closeModalBtn = document.querySelector('#modal-btn');\nconst paginationBtn = document.querySelectorAll('.pagination-btn');\nconst mainPaginationBtn = document.querySelector('.pagination-btn__main');\nconst arrowLeftBtn = document.querySelector('.pagination-btn__arrow-left');\nconst arrowRightBtn = document.querySelector('.pagination-btn__arrow-right');\nconst paginationNumbers = document.querySelector('.pagination-list');\nconst pagination = document.querySelector('.pagination');\nconst loadSpinner = document.querySelector('.loader');\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n});\n\nshowMovies(createCurrentUrl(pageNumber));\n\nsearchButtonEl.addEventListener('click', loadMovies);\ninputEl.addEventListener('input', serchingParametr);\nmovieListEl.addEventListener('click', showModal);\ncloseModalBtn.addEventListener('click', () => closeModal());\ndocument.addEventListener('keydown', e => {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n});\ndocument.querySelector('.drop-box').addEventListener('click', e => {\n  if (!document.querySelector('.modal').contains(e.target)) {\n    closeModal();\n  }\n});\narrowLeftBtn.addEventListener('click', () => {\n  if (pageNumber <= 1) {\n    return;\n  }\n  pageNumber -= 1;\n\n  paginationPageChange();\n});\narrowRightBtn.addEventListener('click', () => {\n  if (totalPages <= pageNumber) {\n    return;\n  }\n  pageNumber = Number.parseInt(pageNumber) + 1;\n\n  paginationPageChange();\n});\npaginationNumbers.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (e.target.textContent && e.target.textContent !== '...') {\n    pageNumber = e.target.textContent;\n\n    paginationPageChange();\n  }\n});\n\nfunction createCurrentUrl(pageNumber) {\n  return `${API_URL}trending/movie/week?api_key=${API_KEY}&page=${pageNumber}`;\n}\n\nfunction createSearchingUrl(requestMovie, pageNumber) {\n  return `${API_URL}search/movie?api_key=${API_KEY}&query=${requestMovie.trim()}&page=${pageNumber}`;\n}\n\nfunction loadMovies(e) {\n  let check = checkforNotFoundNotification(requestMovie.trim().length < 1);\n  if (check) {\n    pageNumber = 1;\n    searchingFlag = true;\n    loadSpinner.classList.remove('is-hidden__spinner');\n    showMovies(createSearchingUrl(requestMovie, pageNumber));\n  }\n}\n\nfunction showMovies(url) {\n  fetch(url)\n    .then(response => response.json())\n    .then(movies => {\n      console.log(movies);\n\n      checkforNotFoundNotification(\n        movies.results === undefined || movies.results.length < 1\n      );\n\n      if (movies.results.length !== 0) {\n        loadSpinner.classList.add('is-hidden__spinner');\n        pagination.classList.remove(`is-stealth`);\n        clearPage();\n        totalPages = movies.total_pages;\n        puginationNumeration(pageNumber, totalPages);\n        movieListEl.insertAdjacentHTML('beforeend', createMoviesList(movies));\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nfunction serchingParametr(e) {\n  requestMovie = e.currentTarget.value;\n}\n\nfunction createMoviesList(movies) {\n  return movies.results\n    .map(({ poster_path, id, title, genre_ids, release_date }) => {\n      return `<li class=\"movie-item\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      poster_path\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genre_ids\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n    })\n    .join('');\n}\n\nlet scrollPos = 0;\nconst buttonUpEl = document.querySelector('.button-up');\n\nfunction checkPosition() {\n  let windowY = window.scrollY;\n  if (windowY < scrollPos) {\n    buttonUpEl.classList.add('is-hidden');\n  } else {\n    buttonUpEl.classList.remove('is-hidden');\n  }\n  scrollPos = windowY;\n}\n\nwindow.addEventListener('scroll', checkPosition);\n\nexport function createImg(poster_path) {\n  let noposter = new Image();\n  noposter.src = require('../images/noposter.jpg');\n  let posterPath = `https://image.tmdb.org/t/p/w300${poster_path}`;\n  if (poster_path === null) {\n    posterPath = noposter.src;\n  }\n  return posterPath;\n}\n\nfunction createGenresString(genre_ids) {\n  if (genre_ids.length < 1) {\n    return 'Unknown genre';\n  }\n\n  if (genre_ids.length > 2) {\n    return (\n      genre_ids\n        .slice(0, 2)\n        .map(id => {\n          for (let i = 0; i < genres.length; i += 1) {\n            if (genres[i].id === id) {\n              return genres[i].name;\n            }\n          }\n        })\n        .join(', ') + ', others...'\n    );\n  }\n  return genre_ids\n    .map(id => {\n      for (let i = 0; i < genres.length; i += 1) {\n        if (genres[i].id === id) {\n          return genres[i].name;\n        }\n      }\n    })\n    .join(', ');\n}\n\nexport function checkAndCreateDate(release_date) {\n  let date = 'Unknown date';\n  if (release_date) {\n    date = release_date.slice(0, 4);\n  }\n\n  return date;\n}\n\nfunction clearPage() {\n  movieListEl.innerHTML = '';\n}\n\nfunction showNotFoundNotification() {\n  document\n    .querySelector('.not-found-notification')\n    .classList.remove('disabled');\n  loadSpinner.classList.add('is-hidden__spinner');\n}\n\nfunction clearNotFoundNotification() {\n  document.querySelector('.not-found-notification').classList.add('disabled');\n}\n\nfunction checkforNotFoundNotification(flag) {\n  if (flag) {\n    showNotFoundNotification();\n  } else {\n    clearNotFoundNotification();\n  }\n  return document\n    .querySelector('.not-found-notification')\n    .classList.contains('disabled');\n}\n\n// moved to film-showModal.js\n// function showModal(e) {\n//   if (e.target.nodeName !== 'IMG') {\n//     return;\n//   }\n\n//   document.querySelector('.drop-box').classList.remove('drop-box--is-hidden');\n\n//   let url = `${API_URL}movie/${e.target.dataset.id}?api_key=${API_KEY}`;\n\n//   fetch(url)\n//     .then(response => response.json())\n//     .then(movie => {\n//       console.log(movie);\n//       document\n//         .querySelector('.modal-thumb')\n//         .insertAdjacentHTML('beforeend', createModalCard(movie));\n//       document.querySelector('body').classList.add('overflow-hidden');\n//     })\n//     .catch(error => console.log(error));\n// }\n// moved to film-showModal.js\n// function closeModal() {\n//   document.querySelector('.drop-box').classList.add('drop-box--is-hidden');\n//   document.querySelector('.modal-thumb').innerHTML = '';\n//   document.querySelector('body').classList.remove('overflow-hidden');\n// }\n\n// export function createModalCard(movie) {\n//   return `<img class=\"modal__img\" src=\"${createImg(\n//     movie.poster_path\n//   )}\" alt=\"\" width=\"240\">\n//                 <div class=\"modal__description-thumb\">\n//                     <h2 class=\"modal__title\">${movie.title}</h2>\n//                     <ul class=\"movie-data\">\n//                         <li>\n//                             <ul class=\"movie-data__name\">\n//                                 <li>Vote / Votes</li>\n//                                 <li>Popularity</li>\n//                                 <li>Original Title</li>\n//                                 <li>Genre</li>\n//                             </ul>\n//                         </li>\n//                         <li>\n//                             <ul class=\"movie-data__content\">\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-votes__first\">${\n//                                       movie.vote_average\n//                                     }</span> / <span class=\"movie-votes__sec\">${\n//     movie.vote_count\n//   }</span>\n//                                 </li>\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-popularity__item\">${\n//                                       movie.popularity\n//                                     }</span>\n//                                 </li>\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-orig-title__item\">${\n//                                       movie.original_title\n//                                     }</span>\n//                                 </li>\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-genre__item\">${createModalGenresString(\n//                                       movie.genres\n//                                     )}</span>\n//                                 </li>\n//                             </ul>\n//                         </li>\n//                     </ul>\n\n//                     <p class=\"movie-about\">About</p>\n//                     <p class=\"movie-about-text\">${movie.overview}</p>\n//                     <ul class=\"modal-btns\">\n//                         <li class=\"modal-btns__item\">\n//                             <button class=\"button add-watched-btn\" type=\"button\">Add to Watched</button>\n//                         </li>\n//                         <li class=\"modal-btns__item\">\n//                             <button class=\"button add-queue-btn\" type=\"button\">Add to queue</button>\n//                         </li>\n//                     </ul>\n//                 </div>`;\n// }\n\n// function createModalGenresString(genres) {\n//   return genres.map(genre => genre.name).join(', ');\n// }\n\nfunction puginationNumeration(currentPage, totalPages) {\n  paginationBtn[0].textContent = Number.parseInt(currentPage) - 4 > 0 ? 1 : '';\n\n  if (Number.parseInt(currentPage) - 3 === 1) {\n    paginationBtn[1].textContent = 1;\n  } else if (Number.parseInt(currentPage) - 3 > 0) {\n    paginationBtn[1].textContent = '...';\n  } else {\n    paginationBtn[1].textContent = '';\n  }\n  // paginationBtn[1].textContent = Number.parseInt(currentPage) - 3 > 0 ? Number.parseInt(currentPage) - 3 === 1 ? 1 : '...' : '';\n  paginationBtn[2].textContent =\n    Number.parseInt(currentPage) - 2 > 0\n      ? Number.parseInt(currentPage) - 2\n      : '';\n  paginationBtn[3].textContent =\n    Number.parseInt(currentPage) - 1 > 0\n      ? Number.parseInt(currentPage) - 1\n      : '';\n  mainPaginationBtn.textContent = Number.parseInt(currentPage);\n  paginationBtn[5].textContent =\n    Number.parseInt(currentPage) + 1 <= Number.parseInt(totalPages)\n      ? Number.parseInt(currentPage) + 1\n      : '';\n  paginationBtn[6].textContent =\n    Number.parseInt(currentPage) + 2 <= Number.parseInt(totalPages)\n      ? Number.parseInt(currentPage) + 2\n      : '';\n\n  if (Number.parseInt(currentPage) + 3 === Number.parseInt(totalPages)) {\n    paginationBtn[7].textContent = Number.parseInt(totalPages);\n  } else if (Number.parseInt(currentPage) + 3 <= Number.parseInt(totalPages)) {\n    paginationBtn[7].textContent = '...';\n  } else {\n    paginationBtn[7].textContent = '';\n  }\n  // paginationBtn[7].textContent = Number.parseInt(currentPage) + 4 <= Number.parseInt(totalPages) ? '...' : '';\n  paginationBtn[8].textContent =\n    Number.parseInt(currentPage) + 4 <= Number.parseInt(totalPages)\n      ? Number.parseInt(totalPages)\n      : '';\n\n  if (!paginationBtn[5].textContent) {\n    arrowRightBtn.classList.add('disabled');\n  } else {\n    arrowRightBtn.classList.remove('disabled');\n  }\n\n  if (!paginationBtn[3].textContent) {\n    arrowLeftBtn.classList.add('disabled');\n  } else {\n    arrowLeftBtn.classList.remove('disabled');\n  }\n}\n\nfunction paginationPageChange() {\n  if (!searchingFlag) {\n    showMovies(createCurrentUrl(pageNumber));\n  } else {\n    showMovies(createSearchingUrl(requestMovie, pageNumber));\n  }\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","const authLink = document.querySelector('.authorization');\nconst authModal = document.querySelector('.auth-modal');\nconst closeBtn = document.querySelector('#auth-modal-btn');\nconst registrLink = document.querySelector('.registration');\nconst registrModal = document.querySelector('#registr-modal');\nconst registrCloseBtn = document.querySelector('#registr-modal-btn');\nconst authBackdrop = document.querySelector('.auth-modal__box');\nconst registrBackdrop = document.querySelector('.registr-modal__box');\nconst body = document.querySelector('body');\n\nauthLink.addEventListener('click', onClickAuthLink);\nregistrLink.addEventListener('click', onClickRegistrLink);\n\nfunction onClickAuthLink(e) {\n  e.preventDefault();\n  authModal.classList.add('open');\n  body.classList.add('overflow-hidden');\n  document.addEventListener('keydown', onEscapeClick);\n  closeBtn.addEventListener('click', onClickCloseBtn);\n  authBackdrop.addEventListener('click', onAuthBackdropClick);\n}\n\nfunction onClickCloseBtn() {\n  authModal.classList.remove('open');\n  body.classList.remove('overflow-hidden');\n  // console.log('-');\n  document.removeEventListener('keydown', onEscapeClick);\n  closeBtn.removeEventListener('click', onClickCloseBtn);\n  authBackdrop.removeEventListener('click', onAuthBackdropClick);\n}\n\nfunction onAuthBackdropClick(e) {\n  // console.log(e.currentTarget);\n  // console.log(e.target);\n  if (e.currentTarget === e.target) {\n    // console.log('click backdrop');\n    onClickCloseBtn();\n  }\n}\n\nfunction onClickRegistrLink(e) {\n  e.preventDefault();\n  authModal.classList.remove('open');\n  registrModal.classList.add('open');\n  registrCloseBtn.addEventListener('click', onRegistrCloseBtn);\n  registrBackdrop.addEventListener('click', onRegistrBackdropClick);\n}\n\nfunction onRegistrCloseBtn() {\n  registrModal.classList.remove('open');\n  body.classList.remove('overflow-hidden');\n  registrCloseBtn.removeEventListener('click', onRegistrCloseBtn);\n  registrBackdrop.removeEventListener('click', onRegistrBackdropClick);\n}\n\nfunction onRegistrBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    // console.log('click backdrop');\n    onRegistrCloseBtn();\n  }\n}\n\nfunction onEscapeClick(e) {\n  if (e.code === 'Escape') {\n    // console.log('escape');\n    onClickCloseBtn();\n    onRegistrCloseBtn();\n  }\n}\n","(() => {\n  const refs = {\n    openModalBtnDevelopers: document.querySelector('[modal-developers-open]'),\n    closeModalBtnDevelopers: document.querySelector('[modal-developers-close]'),\n    modalDeveloper: document.querySelector('[data-modal-developer]'),\n  };\n\n  refs.openModalBtnDevelopers.addEventListener('click', openModalDeveloper);\n  refs.closeModalBtnDevelopers.addEventListener('click', closeModalDeveloper);\n  refs.modalDeveloper.addEventListener('click', onBackdropClickDeveloper);\n\n  function openModalDeveloper() {\n    refs.modalDeveloper.classList.remove('is-hidden__developers');\n  }\n  function closeModalDeveloper() {\n    refs.modalDeveloper.classList.add('is-hidden__developers');\n  }\n  function onBackdropClickDeveloper(event) {\n    if (event.currentTarget === event.target) {\n      closeModalDeveloper();\n    }\n  }\n  document.addEventListener('keydown', e => {\n    if (e.code === 'Escape') {\n      closeModalDeveloper();\n    }\n  });\n})();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$2ef99d0c918e6f7e$var$addToLibrBtn","$2ef99d0c918e6f7e$var$addToQueueBtn","$ad23c1da584f1d2d$exports","$2ef99d0c918e6f7e$var$buttonUpEl","document","querySelector","$2ef99d0c918e6f7e$export$3f6fecd573f3fa48","classList","add","innerHTML","remove","$2ef99d0c918e6f7e$var$createModalGenresString","genres","map","genre","name","join","$2ef99d0c918e6f7e$var$writeToStorage","movie","storageName","buttonName","addEventListener","e","movieItem","title","img","$ca6aeb60018b643f$export$63d5fba56e05b0e8","poster_path","vote_average","vote_count","popularity","original_title","overview","date","$ca6aeb60018b643f$export$1135b84501fad640","release_date","localStorage","getItem","savedwatchedMovies","target","textContent","split","splice","setItem","stringify","push","$2ef99d0c918e6f7e$var$checkButton","$ca6aeb60018b643f$export$923ea8233b386e99","$ca6aeb60018b643f$export$a9861bd62f48e142","$ca6aeb60018b643f$var$requestMovie","$ca6aeb60018b643f$var$pageNumber","$ca6aeb60018b643f$var$totalPages","$ca6aeb60018b643f$var$searchingFlag","$ca6aeb60018b643f$var$inputEl","$ca6aeb60018b643f$var$searchButtonEl","$ca6aeb60018b643f$var$formEl","$ca6aeb60018b643f$var$movieListEl","$ca6aeb60018b643f$var$closeModalBtn","$ca6aeb60018b643f$var$paginationBtn","querySelectorAll","$ca6aeb60018b643f$var$mainPaginationBtn","$ca6aeb60018b643f$var$arrowLeftBtn","$ca6aeb60018b643f$var$arrowRightBtn","$ca6aeb60018b643f$var$paginationNumbers","$ca6aeb60018b643f$var$pagination","$ca6aeb60018b643f$var$loadSpinner","$ca6aeb60018b643f$var$createCurrentUrl","pageNumber1","$ca6aeb60018b643f$var$createSearchingUrl","requestMovie1","pageNumber2","trim","$ca6aeb60018b643f$var$showMovies","fetch","then","response","json","movies","console","log","$ca6aeb60018b643f$var$checkforNotFoundNotification","undefined","results","total_pages","currentPage","totalPages1","Number","parseInt","$ca6aeb60018b643f$var$puginationNumeration","insertAdjacentHTML","genre_ids","slice","$ca6aeb60018b643f$var$createGenresString","$ca6aeb60018b643f$var$createMoviesList","catch","error","preventDefault","currentTarget","value","async","nodeName","dataset","$2ef99d0c918e6f7e$export$b26c0d07693be858","code","contains","$ca6aeb60018b643f$var$paginationPageChange","$ca6aeb60018b643f$var$scrollPos","$ca6aeb60018b643f$var$buttonUpEl","noposter","Image","src","posterPath","flag","window","scrollTo","top","behavior","windowY","scrollY","$c5d798e332c6a584$var$authLink","$c5d798e332c6a584$var$authModal","$c5d798e332c6a584$var$closeBtn","$c5d798e332c6a584$var$registrLink","$c5d798e332c6a584$var$registrModal","$c5d798e332c6a584$var$registrCloseBtn","$c5d798e332c6a584$var$authBackdrop","$c5d798e332c6a584$var$registrBackdrop","$c5d798e332c6a584$var$body","$c5d798e332c6a584$var$onClickCloseBtn","removeEventListener","$c5d798e332c6a584$var$onEscapeClick","$c5d798e332c6a584$var$onAuthBackdropClick","$c5d798e332c6a584$var$onRegistrCloseBtn","$c5d798e332c6a584$var$onRegistrBackdropClick","refs","openModalBtnDevelopers","closeModalBtnDevelopers","modalDeveloper","closeModalDeveloper","event"],"version":3,"file":"index.345ecd38.js.map"}