{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-4d16f9a35f7e589a.js","node_modules/@parcel/runtime-js/lib/runtime-2b2a0cc421eccf25.js","src/js/modal-developers.js","src/js/renderLibrary.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iHCDC\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"eWFvC\\\":\\\"librarypage.d02af9d7.js\\\",\\\"iHCDC\\\":\\\"noposter.751b8d89.jpg\\\"}\"));","(() => {\n  const refs = {\n    openModalBtnDevelopers: document.querySelector('[modal-developers-open]'),\n    closeModalBtnDevelopers: document.querySelector('[modal-developers-close]'),\n    modalDeveloper: document.querySelector('[data-modal-developer]'),\n  };\n\n  refs.openModalBtnDevelopers.addEventListener('click', openModalDeveloper);\n  refs.closeModalBtnDevelopers.addEventListener('click', closeModalDeveloper);\n  refs.modalDeveloper.addEventListener('click', onBackdropClickDeveloper);\n\n  function openModalDeveloper() {\n    refs.modalDeveloper.classList.remove('is-hidden__developers');\n  }\n  function closeModalDeveloper() {\n    refs.modalDeveloper.classList.add('is-hidden__developers');\n  }\n  function onBackdropClickDeveloper(event) {\n    if (event.currentTarget === event.target) {\n      closeModalDeveloper();\n    }\n  }\n  document.addEventListener('keydown', e => {\n    if (e.code === 'Escape') {\n      closeModalDeveloper();\n    }\n  });\n})();\n","import './modal-developers';\n\nlet watchedMovie = JSON.parse(localStorage.getItem('watchedMoviesStorage'));\n// console.log(watchedMovie);\nlet queueMovie = JSON.parse(localStorage.getItem('queueMoviesStorage'));\n// console.log(queueMovie);\nconst emptyInfo = document.querySelector('.info');\nconst movieListEl = document.querySelector('.movie-list');\nconst queueBtn = document.querySelector('.queue-btn');\nconst watchedBtn = document.querySelector('.watched-btn');\nconst loadSpinner = document.querySelector('.loader');\nconsole.log(queueBtn);\nconsole.log(watchedBtn);\ncheckWatched();\nqueueBtn.addEventListener('click', checkQueue);\nwatchedBtn.addEventListener('click', checkWatched);\n loadSpinner.classList.add('is-hidden__spinner');\n\nfunction checkQueue() {\n  watchedBtn.classList.remove('active-btn');\n  queueBtn.classList.add('active-btn');\n  movieListEl.innerHTML = '';\n  if (localStorage.length === 0) {\n    emptyInfo.classList.remove(`is-stealth`);\n  } else {\n    renderQueueMovie();\n  }\n}\n\nfunction checkWatched() {\n  watchedBtn.classList.add('active-btn');\n  queueBtn.classList.remove('active-btn');\n  movieListEl.innerHTML = '';\n  if (localStorage.length === 0) {\n    emptyInfo.classList.remove(`is-stealth`);\n  } else {\n    renderWatchedMovie();\n  }\n}\n\nfunction renderWatchedMovie() {\n  if (watchedMovie) {\n    emptyInfo.classList.add(`is-stealth`);\n    const markUpCards = watchedMovie\n      .map(({ img, id, title, genres, release_date }) => {\n        return `<li class=\"movie-item\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      img\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genres\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n      })\n      .join('');\n\n    // console.log(markUpCards);\n    movieListEl.insertAdjacentHTML('beforeend', markUpCards);\n    return;\n  }\n  emptyInfo.classList.remove(`is-stealth`);\n}\n\nfunction renderQueueMovie() {\n  if (queueMovie) {\n    emptyInfo.classList.add(`is-stealth`);\n    const markUpCards = queueMovie\n      .map(({ img, id, title, genres, release_date }) => {\n        return `<li class=\"movie-item\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      img\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genres\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n      })\n      .join('');\n\n    movieListEl.insertAdjacentHTML('beforeend', markUpCards);\n    return;\n  }\n  emptyInfo.classList.remove(`is-stealth`);\n}\n\nfunction createImg(img) {\n  let noposter = new Image();\n  noposter.src = require('../images/noposter.jpg');\n  let posterPath = img;\n  if (img === null || img === '') {\n    posterPath = noposter.src;\n  }\n  return posterPath;\n}\n\nfunction createGenresString(genres) {\n  if (genres === '') {\n    return 'Unknown genre';\n  }\n  if (genres.includes(',')) {\n    const genresArray = genres.split(',');\n    if (genresArray.length > 2) {\n      return genresArray.slice(0, 2).join(', ') + ', others...';\n    } else {\n      return genresArray.join(', ');\n    }\n  }\n  return genres;\n}\n\nfunction checkAndCreateDate(release_date) {\n  let date = 'Unknown date';\n  if (release_date) {\n    date = release_date.slice(0, 4);\n  }\n\n  return date;\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","refs","openModalBtnDevelopers","document","querySelector","closeModalBtnDevelopers","modalDeveloper","closeModalDeveloper","classList","add","addEventListener","remove","event","currentTarget","target","e","code","$833268aa8ea0daed$var$watchedMovie","localStorage","getItem","$833268aa8ea0daed$var$queueMovie","$833268aa8ea0daed$var$emptyInfo","$833268aa8ea0daed$var$movieListEl","$833268aa8ea0daed$var$queueBtn","$833268aa8ea0daed$var$watchedBtn","$833268aa8ea0daed$var$loadSpinner","$833268aa8ea0daed$var$checkWatched","innerHTML","markUpCards","map","img","title","genres","release_date","$833268aa8ea0daed$var$createImg","$833268aa8ea0daed$var$createGenresString","$833268aa8ea0daed$var$checkAndCreateDate","join","insertAdjacentHTML","$833268aa8ea0daed$var$renderWatchedMovie","noposter","Image","src","posterPath","includes","genresArray","split","slice","date","console","log","$833268aa8ea0daed$var$renderQueueMovie"],"version":3,"file":"librarypage.d02af9d7.js.map"}