function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequired7c6=s),s.register("kyEFX",(function(t,n){var i,s;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var r={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},s=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("a79Io",(function(e,t){e.exports=new URL(s("kyEFX").resolve("iHCDC"),import.meta.url).toString()})),s("kyEFX").register(JSON.parse('{"5FICj":"librarypage.195974e9.js","iHCDC":"noposter.751b8d89.jpg","8mGr4":"index.edfb7e63.js"}')),s("hIzJZ");var r=s("25RCP"),o=s("9jUAk"),a=s("amyG6");(0,r.initializeApp)({apiKey:"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc",authDomain:"filmoteka-bdb19.firebaseapp.com",projectId:"filmoteka-bdb19",storageBucket:"filmoteka-bdb19.appspot.com",messagingSenderId:"1051248700372",appId:"1:1051248700372:web:2dc6796345cd1c6fa94441"});const c=(0,o.getFirestore)(),l=(0,a.getAuth)(),d=document.querySelector(".info"),u=document.querySelector(".movie-list"),f=document.querySelector(".queue-btn"),g=document.querySelector(".watched-btn"),m=document.querySelector(".loader");function p(e){m.classList.remove("is-hidden__spinner"),e.target===g?(m.classList.add("is-hidden__spinner"),g.classList.add("active-btn"),f.classList.remove("active-btn")):e.target===f&&(g.classList.remove("active-btn"),f.classList.add("active-btn"),m.classList.add("is-hidden__spinner"));const t=e.target.id;(0,a.onAuthStateChanged)(l,(e=>{if(e){v(e.uid).then((e=>e)).then((e=>{const n=e[t];var i;console.log(n),i=n,u.innerHTML="",i.length<1?d.classList.remove("is-stealth"):(d.classList.add("is-stealth"),b(i))}))}else console.log("user is logout")}))}async function v(e){const t=await(0,o.getDoc)((0,o.doc)(c,"users",`${e}`));if(t.exists()){return t.data()}}function b(e){const t=e.map((({img:e,id:t,title:n,genres:i,release_date:r})=>`<li class="movie-item">\n                    <img class="movie-img" src="${function(e){let t=new Image;t.src=s("a79Io");let n=e;null!==e&&""!==e||(n=t.src);return n}(e)}" data-id="${t}" alt="${n}" width="280">\n                    <h2 class="movie-title">${n}</h2>\n                    <p class="movie-description">${function(e){if(""===e)return"Unknown genre";if(e.includes(",")){const t=e.split(",");return t.length>2?t.slice(0,2).join(", ")+", others...":t.join(", ")}return e}(i)} | ${function(e){let t="Unknown date";e&&(t=e.slice(0,4));return t}(r)}</p>\n                </li>`)).join("");u.insertAdjacentHTML("beforeend",t)}g.classList.add("active-btn"),f.classList.remove("active-btn"),(0,a.onAuthStateChanged)(l,(e=>{e?v(e.uid).then((e=>e)).then((e=>{const t=e.filmsWatched;var n;n=t,g.classList.add("active-btn"),f.classList.remove("active-btn"),u.innerHTML="",0===n.length?d.classList.remove("is-stealth"):(d.classList.add("is-stealth"),b(n))})):console.log("user is logout")})),m.classList.add("is-hidden__spinner"),f.addEventListener("click",p),g.addEventListener("click",p);
//# sourceMappingURL=librarypage.195974e9.js.map
