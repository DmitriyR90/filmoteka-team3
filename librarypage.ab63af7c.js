!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequired7c6=i),i.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("7raIt",(function(e,t){e.exports=i("aNJCr").getBundleURL("6rRUj")+i("iE7OH").resolve("iXtly")})),i.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),i("iE7OH").register(JSON.parse('{"6rRUj":"librarypage.ab63af7c.js","iXtly":"noposter.751b8d89.jpg","iLoYJ":"index.d38e1cc1.js"}'));var s=i("bpxeT"),a=i("2TvXO");i("jHF6Y");var c=i("6Urw1"),l=i("c69b4"),u=i("3SEMc"),d=((0,c.initializeApp)({apiKey:"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc",authDomain:"filmoteka-bdb19.firebaseapp.com",projectId:"filmoteka-bdb19",storageBucket:"filmoteka-bdb19.appspot.com",messagingSenderId:"1051248700372",appId:"1:1051248700372:web:2dc6796345cd1c6fa94441"}),(0,l.getFirestore)()),f=(0,u.getAuth)(),m=document.querySelector(".info"),p=document.querySelector(".movie-list"),v=document.querySelector(".queue-btn"),b=document.querySelector(".watched-btn"),g=document.querySelector(".loader"),h=document.querySelectorAll(".pagination-btn"),L=document.querySelector(".pagination-btn__main"),x=document.querySelector(".pagination-btn__arrow-left"),N=document.querySelector(".pagination-btn__arrow-right"),I=document.querySelector(".pagination-list"),w=document.querySelector(".pagination"),y=1,C=1;function _(){b.classList.add("active-btn"),v.classList.remove("active-btn"),(0,u.onAuthStateChanged)(f,(function(e){if(e)E(e.uid).then((function(e){return e})).then((function(e){var t=e.filmsWatched;if(1!==(C=Math.ceil(t.length/20))){var n=20*y,r=n-20;return console.log(n),H(t=e.filmsWatched.slice(r,n)),console.log(C),w.classList.remove("is-stealth"),void A(y,C)}H(t),y=1,console.log(C),w.classList.remove("is-stealth"),A(y,C)}));else console.log("user is logout")}))}function S(e){y=1,g.classList.remove("is-hidden__spinner"),e.target===b?(g.classList.add("is-hidden__spinner"),b.classList.add("active-btn"),v.classList.remove("active-btn")):e.target===v&&(b.classList.remove("active-btn"),v.classList.add("active-btn"),g.classList.add("is-hidden__spinner"));var t=e.target.id;(0,u.onAuthStateChanged)(f,(function(e){if(e)E(e.uid).then((function(e){return e})).then((function(e){var n=e[t];if(1===(C=Math.ceil(n.length/20)))k(n),y=1,console.log(C),w.classList.remove("is-stealth"),A(y,C);else{var r=20*y,o=r-20;console.log(r),k(n=e[t].slice(o,r)),console.log(C),w.classList.remove("is-stealth"),A(y,C)}}));else console.log("user is logout")}))}function E(e){return q.apply(this,arguments)}function q(){return(q=t(s)(t(a).mark((function e(n){var r,o;return t(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getDoc)((0,l.doc)(d,"users","".concat(n)));case 2:if(!(r=e.sent).exists()){e.next=6;break}return o=r.data(),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){p.innerHTML="",e.length<1?m.classList.remove("is-stealth"):(m.classList.add("is-stealth"),j(e),w.classList.remove("is-stealth"),A(y,C))}function j(e){var t=e.map((function(e){var t=e.img,n=e.id,r=e.title,o=e.genres,s=e.date;return'<li class="movie-item">\n                    <img class="movie-img" src="'.concat(function(e){var t=new Image;t.src=i("7raIt");var n=e;null!==e&&""!==e||(n=t.src);return n}(t),'" data-id="').concat(n,'" alt="').concat(r,'" width="280">\n                    <h2 class="movie-title">').concat(r,'</h2>\n                    <p class="movie-description">').concat(function(e){if(""===e)return"Unknown genre";if(e.includes(",")){var t=e.split(",");return t.length>2?t.slice(0,2).join(", ")+", others...":t.join(", ")}return e}(o)," | ").concat(s,"</p>\n                </li>")})).join("");p.insertAdjacentHTML("beforeend",t)}function H(e){p.innerHTML="",0===e.length?m.classList.remove("is-stealth"):(m.classList.add("is-stealth"),j(e))}function A(e,t){h[0].textContent=Number.parseInt(e)-4>0?1:"",Number.parseInt(e)-3==1?h[1].textContent=1:Number.parseInt(e)-3>0?h[1].textContent="...":h[1].textContent="",h[2].textContent=Number.parseInt(e)-2>0?Number.parseInt(e)-2:"",h[3].textContent=Number.parseInt(e)-1>0?Number.parseInt(e)-1:"",L.textContent=Number.parseInt(e),h[5].textContent=Number.parseInt(e)+1<=Number.parseInt(t)?Number.parseInt(e)+1:"",h[6].textContent=Number.parseInt(e)+2<=Number.parseInt(t)?Number.parseInt(e)+2:"",Number.parseInt(e)+3===Number.parseInt(t)?h[7].textContent=Number.parseInt(t):Number.parseInt(e)+3<=Number.parseInt(t)?h[7].textContent="...":h[7].textContent="",h[8].textContent=Number.parseInt(e)+4<=Number.parseInt(t)?Number.parseInt(t):"",h[5].textContent?N.classList.remove("disabled"):N.classList.add("disabled"),h[3].textContent?x.classList.remove("disabled"):x.classList.add("disabled")}function T(){if(b.classList.contains("active-btn"))return _(),void window.scrollTo({top:0,behavior:"smooth"});b.classList.remove("active-btn"),v.classList.add("active-btn"),(0,u.onAuthStateChanged)(f,(function(e){e?E(e.uid).then((function(e){return e})).then((function(e){var t=e.filmsQueue;if(1!==(C=Math.ceil(t.length/20))){var n=20*y,r=n-20;return console.log(n),H(t=e.filmsQueue.slice(r,n)),console.log(C),w.classList.remove("is-stealth"),void A(y,C)}H(t),y=1,console.log(C),w.classList.remove("is-stealth"),A(y,C)})):console.log("user is logout")})),window.scrollTo({top:0,behavior:"smooth"})}_(),g.classList.add("is-hidden__spinner"),v.addEventListener("click",S),b.addEventListener("click",S),x.addEventListener("click",(function(){y<=1||(y-=1,T())})),N.addEventListener("click",(function(){C<=y||(y=Number.parseInt(y)+1,T())})),I.addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&e.target.textContent&&"..."!==e.target.textContent&&(y=e.target.textContent,T())}))}();
//# sourceMappingURL=librarypage.ab63af7c.js.map
