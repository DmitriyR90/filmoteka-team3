!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},s=n.parcelRequired7c6;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},n.parcelRequired7c6=s),s.register("iE7OH",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var s={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("7raIt",(function(e,t){e.exports=s("aNJCr").getBundleURL("6rRUj")+s("iE7OH").resolve("iXtly")})),s.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),i[e]=t),t}})),s("iE7OH").register(JSON.parse('{"6rRUj":"librarypage.a9daee60.js","iXtly":"noposter.751b8d89.jpg","iLoYJ":"index.fefccd89.js"}'));var o=s("bpxeT"),a=s("2TvXO");s("jHF6Y");var c=s("6Urw1"),u=s("c69b4"),l=s("3SEMc"),d=((0,c.initializeApp)({apiKey:"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc",authDomain:"filmoteka-bdb19.firebaseapp.com",projectId:"filmoteka-bdb19",storageBucket:"filmoteka-bdb19.appspot.com",messagingSenderId:"1051248700372",appId:"1:1051248700372:web:2dc6796345cd1c6fa94441"}),(0,u.getFirestore)()),f=(0,l.getAuth)(),p=document.querySelector(".info"),v=document.querySelector(".movie-list"),g=document.querySelector(".queue-btn"),h=document.querySelector(".watched-btn"),m=document.querySelector(".loader");function b(e){m.classList.remove("is-hidden__spinner"),e.target===h?(m.classList.add("is-hidden__spinner"),h.classList.add("active-btn"),g.classList.remove("active-btn")):e.target===g&&(h.classList.remove("active-btn"),g.classList.add("active-btn"),m.classList.add("is-hidden__spinner"));var t=e.target.id;(0,l.onAuthStateChanged)(f,(function(e){if(e)L(e.uid).then((function(e){return e})).then((function(e){var n,r=e[t];console.log(r),n=r,v.innerHTML="",n.length<1?p.classList.remove("is-stealth"):(p.classList.add("is-stealth"),y(n))}));else console.log("user is logout")}))}function L(e){return w.apply(this,arguments)}function w(){return(w=t(o)(t(a).mark((function e(n){var r,i;return t(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getDoc)((0,u.doc)(d,"users","".concat(n)));case 2:if(!(r=e.sent).exists()){e.next=6;break}return i=r.data(),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.map((function(e){var t=e.img,n=e.id,r=e.title,i=e.genres,o=e.release_date;return'<li class="movie-item">\n                    <img class="movie-img" src="'.concat(function(e){var t=new Image;t.src=s("7raIt");var n=e;null!==e&&""!==e||(n=t.src);return n}(t),'" data-id="').concat(n,'" alt="').concat(r,'" width="280">\n                    <h2 class="movie-title">').concat(r,'</h2>\n                    <p class="movie-description">').concat(function(e){if(""===e)return"Unknown genre";if(e.includes(",")){var t=e.split(",");return t.length>2?t.slice(0,2).join(", ")+", others...":t.join(", ")}return e}(i)," | ").concat(function(e){var t="Unknown date";e&&(t=e.slice(0,4));return t}(o),"</p>\n                </li>")})).join("");v.insertAdjacentHTML("beforeend",t)}h.classList.add("active-btn"),g.classList.remove("active-btn"),(0,l.onAuthStateChanged)(f,(function(e){e?L(e.uid).then((function(e){return e})).then((function(e){var t,n=e.filmsWatched;t=n,h.classList.add("active-btn"),g.classList.remove("active-btn"),v.innerHTML="",0===t.length?p.classList.remove("is-stealth"):(p.classList.add("is-stealth"),y(t))})):console.log("user is logout")})),m.classList.add("is-hidden__spinner"),g.addEventListener("click",b),h.addEventListener("click",b)}();
//# sourceMappingURL=librarypage.a9daee60.js.map
