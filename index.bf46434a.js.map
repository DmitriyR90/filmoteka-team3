{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-4d16f9a35f7e589a.js","node_modules/@parcel/runtime-js/lib/runtime-c4a2e7de2c56939e.js","src/genres.json","src/js/firebase.js","src/js/fb-film-modal.js","src/js/findMovies.js","src/js/auth-modal.js","src/js/logout-main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iHCDC\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.bf46434a.js\\\",\\\"iHCDC\\\":\\\"noposter.751b8d89.jpg\\\",\\\"6P0kS\\\":\\\"index.431efa7e.js\\\",\\\"8mGr4\\\":\\\"index.8d61d521.js\\\"}\"));","{\"genres\":[{\"id\":28,\"name\":\"Action\"},{\"id\":12,\"name\":\"Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":14,\"name\":\"Fantasy\"},{\"id\":36,\"name\":\"History\"},{\"id\":27,\"name\":\"Horror\"},{\"id\":10402,\"name\":\"Music\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10749,\"name\":\"Romance\"},{\"id\":878,\"name\":\"Science Fiction\"},{\"id\":10770,\"name\":\"TV Movie\"},{\"id\":53,\"name\":\"Thriller\"},{\"id\":10752,\"name\":\"War\"},{\"id\":37,\"name\":\"Western\"},{\"id\":10759,\"name\":\"Action & Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":10762,\"name\":\"Kids\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10763,\"name\":\"News\"},{\"id\":10764,\"name\":\"Reality\"},{\"id\":10765,\"name\":\"Sci-Fi & Fantasy\"},{\"id\":10766,\"name\":\"Soap\"},{\"id\":10767,\"name\":\"Talk\"},{\"id\":10768,\"name\":\"War & Politics\"},{\"id\":37,\"name\":\"Western\"}]}","import { initializeApp } from 'firebase/app';\nimport { getFirestore, doc, setDoc, getDoc, exists, onSnapshot, updateDoc, arrayUnion, collection, query, where, getDocs  } from 'firebase/firestore/lite';\nimport { getAuth, \n    showLoginError, \n    onAuthStateChanged, \n    signInWithEmailAndPassword, \n    createUserWithEmailAndPassword, \n    AuthErrorCodes,\n    signOut,\n    setPersistence,\n    currentUser } from 'firebase/auth';\n\nconst emailReg = document.querySelector('#user-email-reg');\nconst passwordReg = document.querySelector('#user-password-reg');\nconst btnReg = document.querySelector('#btn-reg');\n\nconst emailAuth =document.querySelector('#user-email-auth');\nconst passwordAuth = document.querySelector('#user-password-auth');\nconst btnAuth = document.querySelector('#btn-auth');\n\nconst btnLibrary = document.querySelector('.library');\nconst btnSignIn = document.querySelector('.authorization');\nconst modalAuth = document.querySelector('.auth-modal');\nconst modalReg = document.querySelector('.registr-modal')\n\nbtnSignIn.classList.add('is-stealth');\nbtnLibrary.classList.add('is-stealth');\n\n// TODO: Replace the following with your app's Firebase project configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc\",\n    authDomain: \"filmoteka-bdb19.firebaseapp.com\",\n    projectId: \"filmoteka-bdb19\",\n    storageBucket: \"filmoteka-bdb19.appspot.com\",\n    messagingSenderId: \"1051248700372\",\n    appId: \"1:1051248700372:web:2dc6796345cd1c6fa94441\"\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\n\nconst firestore = getFirestore(); //наша бд\n\n\n\n// ________________________Реєстрація Авторизація__________________________\n\nconst auth = getAuth();\n\n//створення запису в Бд\nasync function createDoc(email, id) {\n    const docData = {\n        email: email,\n        id: id,\n        filmsWatched: [],\n        filmsQueue: [],\n    }\n    try {\n        await setDoc(doc(firestore, 'users', `${id}`), docData, { merge: true })\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n//авторизація користувача\nasync function loginEmailPassword(event) {\n    event.preventDefault();\n    const loginEmail = emailAuth.value;\n    const loginPassword = passwordAuth.value;\n    try {\n    const userCredential = await signInWithEmailAndPassword(auth, loginEmail, loginPassword)\n    btnLibrary.classList.remove('is-stealth')\n    btnSignIn.classList.add('is-stealth');\n    modalAuth.classList.remove(\"open\")\n    \n    } catch(error) {\n        console.log(\"error\");\n        \n    }\n}\n\n\n//створення акаунта\nasync function createAccaunt(event) {\n    event.preventDefault();\n    const regEmail = emailReg.value;\n    const regPassword = passwordReg.value; \n\n    try {\n        const userCredential = await createUserWithEmailAndPassword(auth, regEmail, regPassword)\n       const userId = userCredential.user.uid\n        createDoc(regEmail, userId)\n        console.log(\"new user\");\n        btnLibrary.classList.remove('is-stealth')\n        btnSignIn.classList.add('is-stealth');\n        modalReg.classList.remove(\"open\")\n       \n        } catch(error) {\n            console.log(error);\n            \n        }\n      \n}\n\nbtnReg.addEventListener('click', createAccaunt);\nbtnAuth.addEventListener('click', loginEmailPassword);\n\n\n// ________________________________Log out ________________________-\n// async function monitorUserStatus() {\n\n// }\n\n// const docRef = doc(firestore, 'users', '')\n\n\n// отримати дані з бд\nasync function readTheDoc (id) {\n    const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n    if (myDoc.exists()) {\n       const data = myDoc.data();\n       console.log(data.filmsWatched);  \n    } \n    \n};\n\n// додати дані фільму по кліку на кнопку в БД аналогічно робимо для queue\nconst obj = {\n    name: \"qwe\",\n    title: \"qwert\",\n}\n//перевіряємо чи користувач залогінений і можемо оновити записи в бд\nonAuthStateChanged(auth, (user) => {\n    if (user) {\n    btnLibrary.classList.remove('is-stealth') \n     } else {\n        btnSignIn.classList.remove('is-stealth')\n    console.log('user is logout');\n    } }\n    )","import { API_KEY, API_URL, createImg, checkAndCreateDate } from './findMovies';\nimport { initializeApp } from 'firebase/app';\nimport { readTheDoc, getFirestore, doc, setDoc, getDoc, exists, onSnapshot, updateDoc, arrayUnion, collection, query, where, getDocs, arrayRemove } from 'firebase/firestore/lite';\nimport { getAuth, showLoginError, onAuthStateChanged, AuthErrorCodes } from 'firebase/auth';\nimport './firebase';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc\",\n    authDomain: \"filmoteka-bdb19.firebaseapp.com\",\n    projectId: \"filmoteka-bdb19\",\n    storageBucket: \"filmoteka-bdb19.appspot.com\",\n    messagingSenderId: \"1051248700372\",\n    appId: \"1:1051248700372:web:2dc6796345cd1c6fa94441\"\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\n\nconst firestore = getFirestore(); //наша бд\nconst auth = getAuth();\nlet addToLibrBtn;\nlet addToQueueBtn;\n\nconst buttonUpEl = document.querySelector('.button-up');\n\n\nconst watchedMoviesStorageName = 'filmsWatched';\nconst watchedMoviesButtonName = '.add-watched-btn';\nconst queueMoviesStorageName = 'filmsQueue';\nconst queueMoviesButtonName = '.add-queue-btn';\n\nexport async function showModal(e) {\n  // console.log(e);\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  document.querySelector('.drop-box').classList.remove('drop-box--is-hidden');\n  buttonUpEl.classList.add('is-hidden');\n  let url = `${API_URL}movie/${e.target.dataset.id}?api_key=${API_KEY}`;\n\n  await fetch(url)\n    .then(response => response.json())\n    .then(movie => {\n      \n      document\n      .querySelector('.modal-thumb')\n      .insertAdjacentHTML('beforeend', createModalCard(movie));\n      document.querySelector('body').classList.add('overflow-hidden');\n\n\n      checkWatchedButton(movie, watchedMoviesButtonName);\n      checkQueueButton(movie, queueMoviesButtonName);\n\n    \n      addToLibrBtn = document.querySelector(watchedMoviesButtonName);\n      addToQueueBtn = document.querySelector(queueMoviesButtonName);\n\n      addToLibrBtn.addEventListener('click', addToLibrary);\n      addToQueueBtn.addEventListener('click', addQueueLibrary);\n\n      function addToLibrary(e) { // додає дані до firestore\n          const arrayName = e.target.id; // масив до якого треба дод дані, відповідно до того по якій кнопці нажали          \n          console.log(arrayName);\n      \n          const movieItem = {\n              id: movie.id,\n              title: movie.title,\n              img: createImg(movie.poster_path),\n              vote_average: movie.vote_average,\n              vote_count: movie.vote_count,\n              popularity: movie.popularity,\n              original_title: movie.original_title,\n              genres: createModalGenresString(movie.genres),\n              overview: movie.overview,\n              date: checkAndCreateDate(movie.release_date),\n          }\n\n        \n          onAuthStateChanged(auth, (user) => { //перевіряємо чи користувач залогінений\n              if (user) {\n                  // User is signed in, see docs for a list of available properties\n                  const uid = user.uid; //id користувача\n                  //   Оновлюємо дані \n                \n                  \n                async function readTheDoc(id) {\n                  const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n                  if (myDoc.exists()) {\n                    const data = myDoc.data();\n\n                    for (let i = 0; i < data.filmsWatched.length; i += 1) {\n                      if (data.filmsWatched[i].id === movieItem.id) {\n                        updateDoc(doc(firestore, 'users', `${uid}`), {  //оновлюємо дані в firestore\n                          [arrayName]: arrayRemove(movieItem)  // видаляємо об`єкт фільму з масиву\n                        })\n\n                        e.target.textContent = \"Add to watched\";\n                        return;\n                      } \n                    }\n\n                    updateDoc(doc(firestore, 'users', `${uid}`), {\n                      [arrayName]: arrayUnion(movieItem)  // додаємо об`єкт фільму до масиву (це треба буде видалити, якщо буде умова з іф)\n                    })\n                    e.target.textContent = \"Delete from watched\";\n                    console.log(data.filmsWatched);  \n                  }\n                };      \n                readTheDoc(uid); \n              } else {\n                  console.log('user is logout');\n                  } \n          })\n      }\n      \n      function addQueueLibrary(e) { // додає дані до firestore\n          const arrayName = e.target.id; // масив до якого треба дод дані, відповідно до того по якій кнопці нажали          \n          console.log(arrayName);\n      \n          const movieItem = {\n              id: movie.id,\n              title: movie.title,\n              img: createImg(movie.poster_path),\n              vote_average: movie.vote_average,\n              vote_count: movie.vote_count,\n              popularity: movie.popularity,\n              original_title: movie.original_title,\n              genres: createModalGenresString(movie.genres),\n              overview: movie.overview,\n              date: checkAndCreateDate(movie.release_date),\n          }\n        \n          onAuthStateChanged(auth, (user) => { //перевіряємо чи користувач залогінений\n              if (user) {\n                  // User is signed in, see docs for a list of available properties\n                  const uid = user.uid; //id користувача\n                  //   Оновлюємо дані \n                \n                  \n                async function readTheDoc(id) {\n                  const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n                  if (myDoc.exists()) {\n                    const data = myDoc.data();\n\n                    for (let i = 0; i < data.filmsQueue.length; i += 1) {\n                      if (data.filmsQueue[i].id === movieItem.id) {\n                        updateDoc(doc(firestore, 'users', `${uid}`), {  //оновлюємо дані в firestore\n                          [arrayName]: arrayRemove(movieItem)  // видаляємо об`єкт фільму з масиву\n                        })\n\n                        e.target.textContent = \"Add to queue\";\n                        return;\n                      } \n                    }\n\n                    updateDoc(doc(firestore, 'users', `${uid}`), {\n                      [arrayName]: arrayUnion(movieItem)  // додаємо об`єкт фільму до масиву (це треба буде видалити, якщо буде умова з іф)\n                    })\n                    e.target.textContent = \"Delete from queue\";\n                    console.log(data.filmsQueue);  \n                  }\n                };      \n                readTheDoc(uid); \n              } else {\n                  console.log('user is logout');\n                  } \n          })\n        }       \n    \n    }).catch(error => console.log(error));\n}\n\nfunction checkWatchedButton(movie, buttonName) {\n  onAuthStateChanged(auth, (user) => { //перевіряємо чи користувач залогінений\n    if (user) {      \n      const uid = user.uid; //id користувача\n      \n      async function readTheDoc(id) {\n        const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n        if (myDoc.exists()) {\n          const data = myDoc.data();\n          for (let i = 0; i < data.filmsWatched.length; i += 1) {\n            if (data.filmsWatched[i].id === movie.id) {                    \n              document.querySelector(buttonName).textContent = \"Delete from watched\";\n              return;\n            } else {\n              document.querySelector(buttonName).textContent =  \"Add to watched\";\n            }                     \n        \n          }                                  \n          console.log(data.filmsWatched);  \n        }\n      };      \n      readTheDoc(uid);      \n\n    } else {\n      console.log('user is logout');\n    } \n})\n}\n\nfunction checkQueueButton(movie, buttonName) {\n  onAuthStateChanged(auth, (user) => { //перевіряємо чи користувач залогінений\n    if (user) {      \n      const uid = user.uid; //id користувача\n      \n      async function readTheDoc(id) {\n        const myDoc = await getDoc(doc(firestore, 'users', `${id}`));\n        if (myDoc.exists()) {\n          const data = myDoc.data();\n          for (let i = 0; i < data.filmsQueue.length; i += 1) {\n            if (data.filmsQueue[i].id === movie.id) {                    \n              document.querySelector(buttonName).textContent = \"Delete from queue\";\n              return;\n            } else {\n              document.querySelector(buttonName).textContent =  \"Add to queue\";\n            }                     \n        \n          }                                  \n          console.log(data.filmsQueue);  \n        }\n      };      \n      readTheDoc(uid);      \n\n    } else {\n      console.log('user is logout');\n    } \n})\n}\n\nexport function closeModal() {\n  document.querySelector('.drop-box').classList.add('drop-box--is-hidden');\n  document.querySelector('.modal-thumb').innerHTML = '';\n  document.querySelector('body').classList.remove('overflow-hidden');\n  buttonUpEl.classList.remove('is-hidden');\n  // document.querySelector('.movie-list').removeEventListener('click', showModal);\n  // document.querySelector('#modal-btn').removeEventListener('click', closeModal);\n}\n\nexport function createModalCard(movie) {\n  return `<img class=\"modal__img\" src=\"${createImg(\n    movie.poster_path\n  )}\" alt=\"\" width=\"240\">\n                <div class=\"modal__description-thumb\">\n                    <h2 class=\"modal__title\">${movie.title}</h2>\n                    <ul class=\"movie-data\">\n                        <li>\n                            <ul class=\"movie-data__name\">\n                                <li>Vote / Votes</li>\n                                <li>Popularity</li>\n                                <li>Original Title</li>\n                                <li>Genre</li>\n                            </ul>\n                        </li>\n                        <li>\n                            <ul class=\"movie-data__content\">\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-votes__first\">${\n                                      movie.vote_average\n                                    }</span> / <span class=\"movie-votes__sec\">${\n    movie.vote_count\n  }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-popularity__item\">${\n                                      movie.popularity\n                                    }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-orig-title__item\">${\n                                      movie.original_title\n                                    }</span>\n                                </li>\n                                <li class=\"movie-data__item\">\n                                    <span class=\"movie-genre__item\">${createModalGenresString(\n                                      movie.genres\n                                    )}</span>\n                                </li>\n                            </ul>\n                        </li>  \n                    </ul>\n                    \n                    <p class=\"movie-about\">About</p>\n                    <p class=\"movie-about-text\">${movie.overview}</p>\n                    <ul class=\"modal-btns\">\n                        <li class=\"modal-btns__item\">\n                            <button class=\"button add-watched-btn\" type=\"button\" id=\"filmsWatched\">Add to Watched</button>\n                        </li>\n                        <li class=\"modal-btns__item\">\n                            <button class=\"button add-queue-btn\" type=\"button\" id=\"filmsQueue\">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>`;\n}\n\nfunction createModalGenresString(genres) {\n  return genres.map(genre => genre.name).join(', ');\n}\n\n\n","\nimport { genres } from '../genres.json';\nimport { showModal, closeModal } from './fb-film-modal';\n\nexport const API_URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY = 'afc22cf5c573169849cabd6217d3b7d3';\nlet requestMovie = '';\nlet pageNumber = 1;\nlet totalPages = 1;\nlet searchingFlag = false;\n\nconst inputEl = document.querySelector('.header__input');\nconst searchButtonEl = document.querySelector('.search-btn');\nconst formEl = document.querySelector('.header__form');\nconst movieListEl = document.querySelector('.movie-list');\nconst closeModalBtn = document.querySelector('#modal-btn');\nconst paginationBtn = document.querySelectorAll('.pagination-btn');\nconst mainPaginationBtn = document.querySelector('.pagination-btn__main');\nconst arrowLeftBtn = document.querySelector('.pagination-btn__arrow-left');\nconst arrowRightBtn = document.querySelector('.pagination-btn__arrow-right');\nconst paginationNumbers = document.querySelector('.pagination-list');\nconst pagination = document.querySelector('.pagination');\nconst loadSpinner = document.querySelector('.loader');\ngetCurentPageFunction();\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n});\n\nshowMovies(createCurrentUrl(pageNumber));\n\n\nsearchButtonEl.addEventListener('click', loadMovies);\ninputEl.addEventListener('input', serchingParametr);\nmovieListEl.addEventListener('click', showModal);\ncloseModalBtn.addEventListener('click', () => closeModal());\ndocument.addEventListener('keydown', e => {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n});\ndocument.querySelector('.drop-box').addEventListener('click', e => {\n  if (!document.querySelector('.modal').contains(e.target)) {\n    closeModal();\n  }\n});\narrowLeftBtn.addEventListener('click', () => {\n  if (pageNumber <= 1) {\n    return;\n  }\n  pageNumber -= 1;\n\n  paginationPageChange();\n});\narrowRightBtn.addEventListener('click', () => {\n  if (totalPages <= pageNumber) {\n    return;\n  }\n  pageNumber = Number.parseInt(pageNumber) + 1;\n\n  paginationPageChange();\n});\npaginationNumbers.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (e.target.textContent && e.target.textContent !== '...') {\n    pageNumber = e.target.textContent;\n    paginationPageChange();\n  }\n});\n\nfunction createCurrentUrl(pageNumber) {\n  return `${API_URL}trending/movie/week?api_key=${API_KEY}&page=${pageNumber}`;\n}\n\nfunction createSearchingUrl(requestMovie, pageNumber) {\n  return `${API_URL}search/movie?api_key=${API_KEY}&query=${requestMovie.trim()}&page=${pageNumber}`;\n}\n\nfunction loadMovies(e) {\n  let check = checkforNotFoundNotification(requestMovie.trim().length < 1);\n  if (check) {\n    pageNumber = 1;\n    searchingFlag = true;\n    loadSpinner.classList.remove('is-hidden__spinner');\n    showMovies(createSearchingUrl(requestMovie, pageNumber));\n  }\n}\n\nfunction showMovies(url) {\n  fetch(url)\n    .then(response => response.json())\n    .then(movies => {\n      console.log(movies);\n      // console.log(pageNumber);\n      setCurentPageFunction(pageNumber);\n\n      checkforNotFoundNotification(\n        movies.results === undefined || movies.results.length < 1\n      );\n\n      if (movies.results.length !== 0) {\n        loadSpinner.classList.add('is-hidden__spinner');\n        pagination.classList.remove(`is-stealth`);\n        clearPage();\n        totalPages = movies.total_pages;\n        puginationNumeration(pageNumber, totalPages);\n        movieListEl.insertAdjacentHTML('beforeend', createMoviesList(movies));\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nfunction setCurentPageFunction(pageNumber) {\n  const currentPage = pageNumber;\n  // console.log(currentPage);\n      sessionStorage.setItem('current-page', currentPage);\n}\n\nfunction getCurentPageFunction() {\n  const savedCurrentPage = sessionStorage.getItem('current-page');\n  // console.log(savedCurrentPage);\n  if (savedCurrentPage) {\n    pageNumber = savedCurrentPage;\n    // console.log(pageNumber);\n}\n\n}\n\nfunction serchingParametr(e) {\n  requestMovie = e.currentTarget.value;\n}\n\nfunction createMoviesList(movies) {\n  return movies.results\n    .map(({ poster_path, id, title, genre_ids, release_date }) => {\n      return `<li class=\"movie-item\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      poster_path\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genre_ids\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n    })\n    .join('');\n}\n\nlet scrollPos = 0;\nconst buttonUpEl = document.querySelector('.button-up');\n\nfunction checkPosition() {\n  let windowY = window.scrollY;\n  if (windowY < scrollPos) {\n    buttonUpEl.classList.add('is-hidden');\n  } else {\n    buttonUpEl.classList.remove('is-hidden');\n  }\n  scrollPos = windowY;\n}\n\nwindow.addEventListener('scroll', checkPosition);\n\nexport function createImg(poster_path) {\n  let noposter = new Image();\n  noposter.src = require('../images/noposter.jpg');\n  let posterPath = `https://image.tmdb.org/t/p/w300${poster_path}`;\n  if (poster_path === null) {\n    posterPath = noposter.src;\n  }\n  return posterPath;\n}\n\nfunction createGenresString(genre_ids) {\n  if (genre_ids.length < 1) {\n    return 'Unknown genre';\n  }\n\n  if (genre_ids.length > 2) {\n    return (\n      genre_ids\n        .slice(0, 2)\n        .map(id => {\n          for (let i = 0; i < genres.length; i += 1) {\n            if (genres[i].id === id) {\n              return genres[i].name;\n            }\n          }\n        })\n        .join(', ') + ', others...'\n    );\n  }\n  return genre_ids\n    .map(id => {\n      for (let i = 0; i < genres.length; i += 1) {\n        if (genres[i].id === id) {\n          return genres[i].name;\n        }\n      }\n    })\n    .join(', ');\n}\n\nexport function checkAndCreateDate(release_date) {\n  let date = 'Unknown date';\n  if (release_date) {\n    date = release_date.slice(0, 4);\n  }\n\n  return date;\n}\n\nfunction clearPage() {\n  movieListEl.innerHTML = '';\n}\n\nfunction showNotFoundNotification() {\n  document\n    .querySelector('.not-found-notification')\n    .classList.remove('disabled');\n  loadSpinner.classList.add('is-hidden__spinner');\n}\n\nfunction clearNotFoundNotification() {\n  document.querySelector('.not-found-notification').classList.add('disabled');\n}\n\nfunction checkforNotFoundNotification(flag) {\n  if (flag) {\n    showNotFoundNotification();\n  } else {\n    clearNotFoundNotification();\n  }\n  return document\n    .querySelector('.not-found-notification')\n    .classList.contains('disabled');\n}\n\n// moved to film-showModal.js\n// function showModal(e) {\n//   if (e.target.nodeName !== 'IMG') {\n//     return;\n//   }\n\n//   document.querySelector('.drop-box').classList.remove('drop-box--is-hidden');\n\n//   let url = `${API_URL}movie/${e.target.dataset.id}?api_key=${API_KEY}`;\n\n//   fetch(url)\n//     .then(response => response.json())\n//     .then(movie => {\n//       console.log(movie);\n//       document\n//         .querySelector('.modal-thumb')\n//         .insertAdjacentHTML('beforeend', createModalCard(movie));\n//       document.querySelector('body').classList.add('overflow-hidden');\n//     })\n//     .catch(error => console.log(error));\n// }\n// moved to film-showModal.js\n// function closeModal() {\n//   document.querySelector('.drop-box').classList.add('drop-box--is-hidden');\n//   document.querySelector('.modal-thumb').innerHTML = '';\n//   document.querySelector('body').classList.remove('overflow-hidden');\n// }\n\n// export function createModalCard(movie) {\n//   return `<img class=\"modal__img\" src=\"${createImg(\n//     movie.poster_path\n//   )}\" alt=\"\" width=\"240\">\n//                 <div class=\"modal__description-thumb\">\n//                     <h2 class=\"modal__title\">${movie.title}</h2>\n//                     <ul class=\"movie-data\">\n//                         <li>\n//                             <ul class=\"movie-data__name\">\n//                                 <li>Vote / Votes</li>\n//                                 <li>Popularity</li>\n//                                 <li>Original Title</li>\n//                                 <li>Genre</li>\n//                             </ul>\n//                         </li>\n//                         <li>\n//                             <ul class=\"movie-data__content\">\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-votes__first\">${\n//                                       movie.vote_average\n//                                     }</span> / <span class=\"movie-votes__sec\">${\n//     movie.vote_count\n//   }</span>\n//                                 </li>\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-popularity__item\">${\n//                                       movie.popularity\n//                                     }</span>\n//                                 </li>\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-orig-title__item\">${\n//                                       movie.original_title\n//                                     }</span>\n//                                 </li>\n//                                 <li class=\"movie-data__item\">\n//                                     <span class=\"movie-genre__item\">${createModalGenresString(\n//                                       movie.genres\n//                                     )}</span>\n//                                 </li>\n//                             </ul>\n//                         </li>\n//                     </ul>\n\n//                     <p class=\"movie-about\">About</p>\n//                     <p class=\"movie-about-text\">${movie.overview}</p>\n//                     <ul class=\"modal-btns\">\n//                         <li class=\"modal-btns__item\">\n//                             <button class=\"button add-watched-btn\" type=\"button\">Add to Watched</button>\n//                         </li>\n//                         <li class=\"modal-btns__item\">\n//                             <button class=\"button add-queue-btn\" type=\"button\">Add to queue</button>\n//                         </li>\n//                     </ul>\n//                 </div>`;\n// }\n\n// function createModalGenresString(genres) {\n//   return genres.map(genre => genre.name).join(', ');\n// }\n\nfunction puginationNumeration(currentPage, totalPages) {\n  paginationBtn[0].textContent = Number.parseInt(currentPage) - 4 > 0 ? 1 : '';\n\n  if (Number.parseInt(currentPage) - 3 === 1) {\n    paginationBtn[1].textContent = 1;\n  } else if (Number.parseInt(currentPage) - 3 > 0) {\n    paginationBtn[1].textContent = '...';\n  } else {\n    paginationBtn[1].textContent = '';\n  }\n  // paginationBtn[1].textContent = Number.parseInt(currentPage) - 3 > 0 ? Number.parseInt(currentPage) - 3 === 1 ? 1 : '...' : '';\n  paginationBtn[2].textContent =\n    Number.parseInt(currentPage) - 2 > 0\n      ? Number.parseInt(currentPage) - 2\n      : '';\n  paginationBtn[3].textContent =\n    Number.parseInt(currentPage) - 1 > 0\n      ? Number.parseInt(currentPage) - 1\n      : '';\n  mainPaginationBtn.textContent = Number.parseInt(currentPage);\n  paginationBtn[5].textContent =\n    Number.parseInt(currentPage) + 1 <= Number.parseInt(totalPages)\n      ? Number.parseInt(currentPage) + 1\n      : '';\n  paginationBtn[6].textContent =\n    Number.parseInt(currentPage) + 2 <= Number.parseInt(totalPages)\n      ? Number.parseInt(currentPage) + 2\n      : '';\n\n  if (Number.parseInt(currentPage) + 3 === Number.parseInt(totalPages)) {\n    paginationBtn[7].textContent = Number.parseInt(totalPages);\n  } else if (Number.parseInt(currentPage) + 3 <= Number.parseInt(totalPages)) {\n    paginationBtn[7].textContent = '...';\n  } else {\n    paginationBtn[7].textContent = '';\n  }\n  // paginationBtn[7].textContent = Number.parseInt(currentPage) + 4 <= Number.parseInt(totalPages) ? '...' : '';\n  paginationBtn[8].textContent =\n    Number.parseInt(currentPage) + 4 <= Number.parseInt(totalPages)\n      ? Number.parseInt(totalPages)\n      : '';\n\n  if (!paginationBtn[5].textContent) {\n    arrowRightBtn.classList.add('disabled');\n  } else {\n    arrowRightBtn.classList.remove('disabled');\n  }\n\n  if (!paginationBtn[3].textContent) {\n    arrowLeftBtn.classList.add('disabled');\n  } else {\n    arrowLeftBtn.classList.remove('disabled');\n  }\n}\n\nfunction paginationPageChange() {\n  if (!searchingFlag) {\n    showMovies(createCurrentUrl(pageNumber));\n  } else {\n    showMovies(createSearchingUrl(requestMovie, pageNumber));\n  }\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\n// console.log(pageNumber);","const authLink = document.querySelector('.authorization');\nconst authModal = document.querySelector('.auth-modal');\nconst closeBtn = document.querySelector('#auth-modal-btn');\nconst registrLink = document.querySelector('.registration');\nconst registrModal = document.querySelector('#registr-modal');\nconst registrCloseBtn = document.querySelector('#registr-modal-btn');\nconst authBackdrop = document.querySelector('.auth-modal__box');\nconst registrBackdrop = document.querySelector('.registr-modal__box');\nconst authModalLink = document.querySelector('.authorization-link');\nconst body = document.querySelector('body');\n\nauthLink.addEventListener('click', onClickAuthLink);\nregistrLink.addEventListener('click', onClickRegistrLink);\n\nfunction onClickAuthLink(e) {\n  e.preventDefault();\n  authModal.classList.add('open');\n  body.classList.add('overflow-hidden');\n  document.addEventListener('keydown', onEscapeClick);\n  closeBtn.addEventListener('click', onClickCloseBtn);\n  authBackdrop.addEventListener('click', onAuthBackdropClick);\n}\n\nfunction onClickCloseBtn() {\n  authModal.classList.remove('open');\n  body.classList.remove('overflow-hidden');\n  // console.log('-');\n  document.removeEventListener('keydown', onEscapeClick);\n  closeBtn.removeEventListener('click', onClickCloseBtn);\n  authBackdrop.removeEventListener('click', onAuthBackdropClick);\n}\n\nfunction onAuthBackdropClick(e) {\n  // console.log(e.currentTarget);\n  // console.log(e.target);\n  if (e.currentTarget === e.target) {\n    // console.log('click backdrop');\n    onClickCloseBtn();\n  }\n}\n\nfunction onClickRegistrLink(e) {\n  e.preventDefault();\n  authModal.classList.remove('open');\n  registrModal.classList.add('open');\n  registrCloseBtn.addEventListener('click', onRegistrCloseBtn);\n  registrBackdrop.addEventListener('click', onRegistrBackdropClick);\n  authModalLink.addEventListener('click', onClickAuthModalLink);\n}\n\nfunction onClickAuthModalLink(e) {\n  e.preventDefault();\n  registrModal.classList.remove('open');\n  authModal.classList.add('open');\n}\n\nfunction onRegistrCloseBtn() {\n  registrModal.classList.remove('open');\n  body.classList.remove('overflow-hidden');\n  registrCloseBtn.removeEventListener('click', onRegistrCloseBtn);\n  registrBackdrop.removeEventListener('click', onRegistrBackdropClick);\n  authModalLink.removeEventListener('click', onClickAuthModalLink);\n}\n\nfunction onRegistrBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    // console.log('click backdrop');\n    onRegistrCloseBtn();\n  }\n}\n\nfunction onEscapeClick(e) {\n  if (e.code === 'Escape') {\n    // console.log('escape');\n    onClickCloseBtn();\n    onRegistrCloseBtn();\n  }\n}\n","import { initializeApp } from 'firebase/app';\nimport { getAuth, \n    showLoginError, \n    onAuthStateChanged, \n    signInWithEmailAndPassword, \n    createUserWithEmailAndPassword, \n    AuthErrorCodes,\n    signOut,\n    setPersistence } from 'firebase/auth';\n\nconst logOutMain = document.querySelector('#logout-main');\n\nlogOutMain.classList.add(`is-stealth`); \n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc\",\n    authDomain: \"filmoteka-bdb19.firebaseapp.com\",\n    projectId: \"filmoteka-bdb19\",\n    storageBucket: \"filmoteka-bdb19.appspot.com\",\n    messagingSenderId: \"1051248700372\",\n    appId: \"1:1051248700372:web:2dc6796345cd1c6fa94441\"\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth();\n\nlogOutMain.addEventListener('click', logOut);  \n\nonAuthStateChanged(auth, (user) => { //перевіряємо чи користувач залогінений\n    if (user) {  \n        logOutMain.classList.remove(`is-stealth`);    \n        }\n\n     else {\n        logOutMain.classList.add(`is-stealth`);\n        console.log('user is logout');\n        } \n})\n\n\nfunction logOut() {\n    signOut(auth).then(() => {\n        location.href = \"../index.html\";\n                console.log(\"Sign-out successful.\");\n               }).catch((error) => {\n                 console.log(qwe);\n               }\n        \n        )\n}\n\n\n   \n\n\n\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$ad23c1da584f1d2d$exports","$25RCP","$1ac6e48565c64d78$var$emailReg","document","querySelector","$1ac6e48565c64d78$var$passwordReg","$1ac6e48565c64d78$var$btnReg","$1ac6e48565c64d78$var$emailAuth","$1ac6e48565c64d78$var$passwordAuth","$1ac6e48565c64d78$var$btnAuth","$1ac6e48565c64d78$var$btnLibrary","$1ac6e48565c64d78$var$btnSignIn","$1ac6e48565c64d78$var$modalAuth","$1ac6e48565c64d78$var$modalReg","classList","add","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","$1ac6e48565c64d78$var$firestore","$9jUAk","getFirestore","$1ac6e48565c64d78$var$auth","$amyG6","getAuth","addEventListener","async","event","preventDefault","regEmail","value","regPassword","userCredential","createUserWithEmailAndPassword","email","docData","filmsWatched","filmsQueue","setDoc","doc","merge","error","console","log","$1ac6e48565c64d78$var$createDoc","user","uid","remove","loginEmail","loginPassword","signInWithEmailAndPassword","onAuthStateChanged","$0e9cf8a600181d87$var$firestore","$0e9cf8a600181d87$var$auth","$0e9cf8a600181d87$var$addToLibrBtn","$0e9cf8a600181d87$var$addToQueueBtn","$0e9cf8a600181d87$var$buttonUpEl","$0e9cf8a600181d87$export$3f6fecd573f3fa48","innerHTML","$0e9cf8a600181d87$var$createModalGenresString","genres","map","genre","name","join","$ca6aeb60018b643f$export$923ea8233b386e99","$ca6aeb60018b643f$export$a9861bd62f48e142","$ca6aeb60018b643f$var$requestMovie","$ca6aeb60018b643f$var$pageNumber","$ca6aeb60018b643f$var$totalPages","$ca6aeb60018b643f$var$searchingFlag","$ca6aeb60018b643f$var$inputEl","$ca6aeb60018b643f$var$searchButtonEl","$ca6aeb60018b643f$var$formEl","$ca6aeb60018b643f$var$movieListEl","$ca6aeb60018b643f$var$closeModalBtn","$ca6aeb60018b643f$var$paginationBtn","querySelectorAll","$ca6aeb60018b643f$var$mainPaginationBtn","$ca6aeb60018b643f$var$arrowLeftBtn","$ca6aeb60018b643f$var$arrowRightBtn","$ca6aeb60018b643f$var$paginationNumbers","$ca6aeb60018b643f$var$pagination","$ca6aeb60018b643f$var$loadSpinner","$ca6aeb60018b643f$var$createCurrentUrl","pageNumber1","$ca6aeb60018b643f$var$createSearchingUrl","requestMovie1","pageNumber2","trim","$ca6aeb60018b643f$var$showMovies","fetch","then","response","json","movies","pageNumber3","currentPage","sessionStorage","setItem","$ca6aeb60018b643f$var$setCurentPageFunction","$ca6aeb60018b643f$var$checkforNotFoundNotification","undefined","results","total_pages","totalPages1","textContent","Number","parseInt","$ca6aeb60018b643f$var$puginationNumeration","insertAdjacentHTML","poster_path","title","genre_ids","release_date","$ca6aeb60018b643f$export$63d5fba56e05b0e8","slice","$ca6aeb60018b643f$var$createGenresString","$ca6aeb60018b643f$export$1135b84501fad640","$ca6aeb60018b643f$var$createMoviesList","catch","savedCurrentPage","getItem","$ca6aeb60018b643f$var$getCurentPageFunction","e","currentTarget","e1","target","nodeName","dataset","movie","vote_average","vote_count","popularity","original_title","overview","$0e9cf8a600181d87$export$b26c0d07693be858","buttonName","readTheDoc3","myDoc","getDoc","exists","data","$0e9cf8a600181d87$var$checkWatchedButton","readTheDoc4","$0e9cf8a600181d87$var$checkQueueButton","arrayName","movieItem","img","date","updateDoc","arrayRemove","arrayUnion","readTheDoc1","readTheDoc2","code","contains","$ca6aeb60018b643f$var$paginationPageChange","$ca6aeb60018b643f$var$scrollPos","$ca6aeb60018b643f$var$buttonUpEl","noposter","Image","src","posterPath","flag","window","scrollTo","top","behavior","windowY","scrollY","$c5d798e332c6a584$var$authLink","$c5d798e332c6a584$var$authModal","$c5d798e332c6a584$var$closeBtn","$c5d798e332c6a584$var$registrLink","$c5d798e332c6a584$var$registrModal","$c5d798e332c6a584$var$registrCloseBtn","$c5d798e332c6a584$var$authBackdrop","$c5d798e332c6a584$var$registrBackdrop","$c5d798e332c6a584$var$authModalLink","$c5d798e332c6a584$var$body","$c5d798e332c6a584$var$onClickCloseBtn","removeEventListener","$c5d798e332c6a584$var$onEscapeClick","$c5d798e332c6a584$var$onAuthBackdropClick","$c5d798e332c6a584$var$onClickAuthModalLink","$c5d798e332c6a584$var$onRegistrCloseBtn","$c5d798e332c6a584$var$onRegistrBackdropClick","$8921159f902930d7$var$logOutMain","$8921159f902930d7$var$auth","signOut","location","href","qwe"],"version":3,"file":"index.bf46434a.js.map"}