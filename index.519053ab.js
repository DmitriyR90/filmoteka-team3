!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("7uOvd",(function(e,t){e.exports=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("iXtly")})),r.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),r[e]=t),t}})),r("iE7OH").register(JSON.parse('{"EVgbq":"index.519053ab.js","iXtly":"noposter.751b8d89.jpg"}'));var i;i=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"},{"id":10759,"name":"Action & Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":10762,"name":"Kids"},{"id":9648,"name":"Mystery"},{"id":10763,"name":"News"},{"id":10764,"name":"Reality"},{"id":10765,"name":"Sci-Fi & Fantasy"},{"id":10766,"name":"Soap"},{"id":10767,"name":"Talk"},{"id":10768,"name":"War & Politics"},{"id":37,"name":"Western"}]}');var a="https://api.themoviedb.org/3/",c="afc22cf5c573169849cabd6217d3b7d3",s="",d=1,l=1,u=!1,m=document.querySelector(".header__input"),p=document.querySelector(".search-btn"),f=document.querySelector(".header__form"),v=document.querySelector(".movie-list"),b=document.querySelector("#modal-btn"),g=document.querySelectorAll(".pagination-btn"),y=document.querySelector(".pagination-btn__main"),h=document.querySelector(".pagination-btn__arrow-left"),_=document.querySelector(".pagination-btn__arrow-right"),L=document.querySelector(".pagination-list"),q=document.querySelector(".pagination"),S=document.querySelector(".loader");function x(e){return"".concat(a,"trending/movie/week?api_key=").concat(c,"&page=").concat(e)}function N(e,t){return"".concat(a,"search/movie?api_key=").concat(c,"&query=").concat(e.trim(),"&page=").concat(t)}function w(e){fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),C(void 0===e.results||e.results.length<1),0!==e.results.length&&(S.classList.add("is-hidden__spinner"),q.classList.remove("is-hidden"),v.innerHTML="",l=e.total_pages,function(e,t){g[0].textContent=Number.parseInt(e)-4>0?1:"",Number.parseInt(e)-3==1?g[1].textContent=1:Number.parseInt(e)-3>0?g[1].textContent="...":g[1].textContent="";g[2].textContent=Number.parseInt(e)-2>0?Number.parseInt(e)-2:"",g[3].textContent=Number.parseInt(e)-1>0?Number.parseInt(e)-1:"",y.textContent=Number.parseInt(e),g[5].textContent=Number.parseInt(e)+1<=Number.parseInt(t)?Number.parseInt(e)+1:"",g[6].textContent=Number.parseInt(e)+2<=Number.parseInt(t)?Number.parseInt(e)+2:"",Number.parseInt(e)+3===Number.parseInt(t)?g[7].textContent=Number.parseInt(t):Number.parseInt(e)+3<=Number.parseInt(t)?g[7].textContent="...":g[7].textContent="";g[8].textContent=Number.parseInt(e)+4<=Number.parseInt(t)?Number.parseInt(t):"",g[5].textContent?_.classList.remove("disabled"):_.classList.add("disabled");g[3].textContent?h.classList.remove("disabled"):h.classList.add("disabled")}(d,l),v.insertAdjacentHTML("beforeend",function(e){return e.results.map((function(e){var t=e.poster_path,n=e.id,o=e.title,r=e.genre_ids,a=e.release_date;return'<li class="movie-item">\n                    <img class="movie-img" src="'.concat(E(t),'" data-id="').concat(n,'" alt="').concat(o,'" width="280">\n                    <h2 class="movie-title">').concat(o,'</h2>\n                    <p class="movie-description">').concat(function(e){return e.length<1?"Unknown genre":e.length>2?e.slice(0,2).map((function(e){for(var t=0;t<i.genres.length;t+=1)if(i.genres[t].id===e)return i.genres[t].name})).join(", ")+", others...":e.map((function(e){for(var t=0;t<i.genres.length;t+=1)if(i.genres[t].id===e)return i.genres[t].name})).join(", ")}(r)," | ").concat(function(e){var t="Unknown date";e&&(t=e.slice(0,4));return t}(a),"</p>\n                </li>")})).join("")}(e)))})).catch((function(e){return console.log(e)}))}function E(e){var t=new Image;t.src=r("7uOvd");var n="https://image.tmdb.org/t/p/w300".concat(e);return null===e&&(n=t.src),n}function C(e){return e?(document.querySelector(".not-found-notification").classList.remove("disabled"),S.classList.add("is-hidden__spinner")):document.querySelector(".not-found-notification").classList.add("disabled"),document.querySelector(".not-found-notification").classList.contains("disabled")}function I(){document.querySelector(".drop-box").classList.add("drop-box--is-hidden"),document.querySelector(".modal-thumb").innerHTML="",document.querySelector("body").classList.remove("overflow-hidden")}function k(){w(u?N(s,d):x(d)),window.scrollTo({top:0,behavior:"smooth"})}f.addEventListener("submit",(function(e){e.preventDefault()})),w(x(d)),p.addEventListener("click",(function(e){C(s.trim().length<1)&&(d=1,u=!0,S.classList.remove("is-hidden__spinner"),w(N(s,d)))})),m.addEventListener("input",(function(e){s=e.currentTarget.value})),v.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName)return;document.querySelector(".drop-box").classList.remove("drop-box--is-hidden");var t="".concat(a,"movie/").concat(e.target.dataset.id,"?api_key=").concat(c);fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".modal-thumb").insertAdjacentHTML("beforeend",function(e){return'<img class="modal__img" src="'.concat(E(e.poster_path),'" alt="" width="240">\n                <div class="modal__description-thumb">\n                    <h2 class="modal__title">').concat(e.title,'</h2>\n                    <ul class="movie-data">\n                        <li>\n                            <ul class="movie-data__name">\n                                <li>Vote / Votes</li>\n                                <li>Popularity</li>\n                                <li>Original Title</li>\n                                <li>Genre</li>\n                            </ul>\n                        </li>\n                        <li>\n                            <ul class="movie-data__content">\n                                <li class="movie-data__item">\n                                    <span class="movie-votes__first">').concat(e.vote_average,'</span> / <span class="movie-votes__sec">').concat(e.vote_count,'</span>\n                                </li>\n                                <li class="movie-data__item">\n                                    <span class="movie-popularity__item">').concat(e.popularity,'</span>\n                                </li>\n                                <li class="movie-data__item">\n                                    <span class="movie-orig-title__item">').concat(e.original_title,'</span>\n                                </li>\n                                <li class="movie-data__item">\n                                    <span class="movie-genre__item">').concat((t=e.genres,t.map((function(e){return e.name})).join(", ")),'</span>\n                                </li>\n                            </ul>\n                        </li>  \n                    </ul>\n                    \n                    <p class="movie-about">About</p>\n                    <p class="movie-about-text">').concat(e.overview,'</p>\n                    <ul class="modal-btns">\n                        <li class="modal-btns__item">\n                            <button class="button add-watched-btn" type="button">Add to Watched</button>\n                        </li>\n                        <li class="modal-btns__item">\n                            <button class="button add-queue-btn" type="button">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>');var t}(e)),document.querySelector("body").classList.add("overflow-hidden")})).catch((function(e){return console.log(e)}))})),b.addEventListener("click",(function(){return I()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&I()})),document.querySelector(".drop-box").addEventListener("click",(function(e){document.querySelector(".modal").contains(e.target)||I()})),h.addEventListener("click",(function(){d<=1||(d-=1,k())})),_.addEventListener("click",(function(){l<=d||(d=Number.parseInt(d)+1,k())})),L.addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&e.target.textContent&&"..."!==e.target.textContent&&(d=e.target.textContent,k())}));var T=document.querySelector(".authorization"),A=document.querySelector(".auth-modal"),M=document.querySelector("#auth-modal-btn"),O=document.querySelector(".registration"),H=document.querySelector("#registr-modal"),j=document.querySelector("#registr-modal-btn"),D=document.querySelector("body");function F(){A.classList.remove("open"),D.classList.remove("overflow-hidden")}T.addEventListener("click",(function(e){e.preventDefault(),A.classList.add("open"),D.classList.add("overflow-hidden")})),M.addEventListener("click",F),O.addEventListener("click",(function(e){e.preventDefault(),A.classList.remove("open"),H.classList.add("open")})),j.addEventListener("click",(function(){H.classList.remove("open"),D.classList.remove("overflow-hidden")})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&F()})),function(){var e={openModalBtn:document.querySelector("[modal-developers-open]"),closeModalBtn:document.querySelector("[modal-developers-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)}()}();
//# sourceMappingURL=index.519053ab.js.map
