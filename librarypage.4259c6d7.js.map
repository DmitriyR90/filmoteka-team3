{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-4d16f9a35f7e589a.js","node_modules/@parcel/runtime-js/lib/runtime-2b2a0cc421eccf25.js","src/js/modal-developers.js","src/js/renderLibrary.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iHCDC\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"eWFvC\\\":\\\"librarypage.4259c6d7.js\\\",\\\"iHCDC\\\":\\\"noposter.751b8d89.jpg\\\"}\"));","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[modal-developers-open]'),\n    closeModalBtn: document.querySelector('[modal-developers-close]'),\n    modal: document.querySelector('[data-modal]'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  refs.modal.addEventListener('click', onBackdropClick);\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-hidden__developers');\n  }\n  function onBackdropClick(event) {\n    if (event.currentTarget === event.target) {\n      toggleModal();\n    }\n  }\n})();\n","import './modal-developers';\n\nlet watchedMovie = JSON.parse(localStorage.getItem('watchedMoviesStorage'));\n// console.log(watchedMovie);\nlet queueMovie = JSON.parse(localStorage.getItem('queueMoviesStorage'));\n// console.log(queueMovie);\nconst emptyInfo = document.querySelector('.info');\nconst movieListEl = document.querySelector('.movie-list');\nconst queueBtn = document.querySelector('.queue-btn');\nconst watchedBtn = document.querySelector('.watched-btn');\nconst loadSpinner = document.querySelector('.loader');\nconsole.log(queueBtn);\nconsole.log(watchedBtn);\ncheckWatched();\nqueueBtn.addEventListener('click', checkQueue);\nwatchedBtn.addEventListener('click', checkWatched);\n loadSpinner.classList.add('is-hidden__spinner');\n\nfunction checkQueue() {\n  watchedBtn.classList.remove('active-btn');\n  queueBtn.classList.add('active-btn');\n  movieListEl.innerHTML = '';\n  if (localStorage.length === 0) {\n    emptyInfo.classList.remove(`is-stealth`);\n  } else {\n    renderQueueMovie();\n  }\n}\n\nfunction checkWatched() {\n  watchedBtn.classList.add('active-btn');\n  queueBtn.classList.remove('active-btn');\n  movieListEl.innerHTML = '';\n  if (localStorage.length === 0) {\n    emptyInfo.classList.remove(`is-stealth`);\n  } else {\n    renderWatchedMovie();\n  }\n}\n\nfunction renderWatchedMovie() {\n  if (watchedMovie) {\n    emptyInfo.classList.add(`is-stealth`);\n    const markUpCards = watchedMovie\n      .map(({ img, id, title, genres, release_date }) => {\n        return `<li class=\"movie-item\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      img\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genres\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n      })\n      .join('');\n\n    // console.log(markUpCards);\n    movieListEl.insertAdjacentHTML('beforeend', markUpCards);\n    return;\n  }\n  emptyInfo.classList.remove(`is-stealth`);\n}\n\nfunction renderQueueMovie() {\n  if (queueMovie) {\n    emptyInfo.classList.add(`is-stealth`);\n    const markUpCards = queueMovie\n      .map(({ img, id, title, genres, release_date }) => {\n        return `<li class=\"movie-item\">\n                    <img class=\"movie-img\" src=\"${createImg(\n                      img\n                    )}\" data-id=\"${id}\" alt=\"${title}\" width=\"280\">\n                    <h2 class=\"movie-title\">${title}</h2>\n                    <p class=\"movie-description\">${createGenresString(\n                      genres\n                    )} | ${checkAndCreateDate(release_date)}</p>\n                </li>`;\n      })\n      .join('');\n\n    movieListEl.insertAdjacentHTML('beforeend', markUpCards);\n    return;\n  }\n  emptyInfo.classList.remove(`is-stealth`);\n}\n\nfunction createImg(img) {\n  let noposter = new Image();\n  noposter.src = require('../images/noposter.jpg');\n  let posterPath = img;\n  if (img === null || img === '') {\n    posterPath = noposter.src;\n  }\n  return posterPath;\n}\n\nfunction createGenresString(genres) {\n  if (genres === '') {\n    return 'Unknown genre';\n  }\n  if (genres.includes(',')) {\n    const genresArray = genres.split(',');\n    if (genresArray.length > 2) {\n      return genresArray.slice(0, 2).join(', ') + ', others...';\n    } else {\n      return genresArray.join(', ');\n    }\n  }\n  return genres;\n}\n\nfunction checkAndCreateDate(release_date) {\n  let date = 'Unknown date';\n  if (release_date) {\n    date = release_date.slice(0, 4);\n  }\n\n  return date;\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","refs","openModalBtn","document","querySelector","closeModalBtn","modal","toggleModal","classList","toggle","addEventListener","event","currentTarget","target","$833268aa8ea0daed$var$watchedMovie","localStorage","getItem","$833268aa8ea0daed$var$queueMovie","$833268aa8ea0daed$var$emptyInfo","$833268aa8ea0daed$var$movieListEl","$833268aa8ea0daed$var$queueBtn","$833268aa8ea0daed$var$watchedBtn","$833268aa8ea0daed$var$loadSpinner","$833268aa8ea0daed$var$checkWatched","add","remove","innerHTML","markUpCards","map","img","title","genres","release_date","$833268aa8ea0daed$var$createImg","$833268aa8ea0daed$var$createGenresString","$833268aa8ea0daed$var$checkAndCreateDate","join","insertAdjacentHTML","$833268aa8ea0daed$var$renderWatchedMovie","noposter","Image","src","posterPath","includes","genresArray","split","slice","date","console","log","$833268aa8ea0daed$var$renderQueueMovie"],"version":3,"file":"librarypage.4259c6d7.js.map"}