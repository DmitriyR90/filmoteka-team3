var e;e=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"},{"id":10759,"name":"Action & Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":10762,"name":"Kids"},{"id":9648,"name":"Mystery"},{"id":10763,"name":"News"},{"id":10764,"name":"Reality"},{"id":10765,"name":"Sci-Fi & Fantasy"},{"id":10766,"name":"Soap"},{"id":10767,"name":"Talk"},{"id":10768,"name":"War & Politics"},{"id":37,"name":"Western"}]}');let t="",n=1,o=1,a=!1;const i=document.querySelector(".header__input"),r=document.querySelector(".search-btn"),s=document.querySelector(".header__form"),d=document.querySelector(".movie-list"),l=document.querySelector(".modal__button"),c=document.querySelectorAll(".pagination-btn"),m=document.querySelector(".pagination-btn__main"),u=document.querySelector(".pagination-btn__arrow-left"),p=document.querySelector(".pagination-btn__arrow-right"),b=document.querySelector(".pagination-list"),v=document.querySelector(".pagination");s.addEventListener("submit",(e=>{e.preventDefault()}));const _=document.querySelector(".loading-container");function g(e){return`https://api.themoviedb.org/3/trending/movie/week?api_key=afc22cf5c573169849cabd6217d3b7d3&page=${e}`}function h(e,t){return`https://api.themoviedb.org/3/search/movie?api_key=afc22cf5c573169849cabd6217d3b7d3&query=${e.trim()}&page=${t}`}function y(t){fetch(t).then((e=>e.json())).then((t=>{console.log(t),L(void 0===t.results||t.results.length<1),0!==t.results.length&&(v.classList.remove("is-hidden"),d.innerHTML="",o=t.total_pages,function(e,t){c[0].textContent=Number.parseInt(e)-4>0?1:"",Number.parseInt(e)-3==1?c[1].textContent=1:Number.parseInt(e)-3>0?c[1].textContent="...":c[1].textContent="";c[2].textContent=Number.parseInt(e)-2>0?Number.parseInt(e)-2:"",c[3].textContent=Number.parseInt(e)-1>0?Number.parseInt(e)-1:"",m.textContent=Number.parseInt(e),c[5].textContent=Number.parseInt(e)+1<=Number.parseInt(t)?Number.parseInt(e)+1:"",c[6].textContent=Number.parseInt(e)+2<=Number.parseInt(t)?Number.parseInt(e)+2:"",Number.parseInt(e)+3===Number.parseInt(t)?c[7].textContent=Number.parseInt(t):Number.parseInt(e)+3<=Number.parseInt(t)?c[7].textContent="...":c[7].textContent="";c[8].textContent=Number.parseInt(e)+4<=Number.parseInt(t)?Number.parseInt(t):"",c[5].textContent?p.classList.remove("disabled"):p.classList.add("disabled");c[3].textContent?u.classList.remove("disabled"):u.classList.add("disabled")}(n,o),d.insertAdjacentHTML("beforeend",function(t){return t.results.map((({poster_path:t,id:n,title:o,genre_ids:a,release_date:i})=>`<li class="movie-item">\n                    <img class="movie-img" src="${f(t)}" data-id="${n}" alt="${o}" width="280">\n                    <h2 class="movie-title">${o}</h2>\n                    <p class="movie-description">${function(t){return t.length<1?"Unknown genre":t.length>2?t.slice(0,2).map((t=>{for(let n=0;n<e.genres.length;n+=1)if(e.genres[n].id===t)return e.genres[n].name})).join(", ")+", others...":t.map((t=>{for(let n=0;n<e.genres.length;n+=1)if(e.genres[n].id===t)return e.genres[n].name})).join(", ")}(a)} | ${function(e){let t="Unknown date";e&&(t=e.slice(0,4));return t}(i)}</p>\n                </li>`)).join("")}(t)))})).catch((e=>console.log(e)))}function f(e){let t=`https://image.tmdb.org/t/p/w300${e}`;return null===e&&(t="https://www.prokerala.com/movies/assets/img/no-poster-available.jpg"),t}function L(e){return e?(document.querySelector(".not-found-notification").classList.remove("disabled"),_.classList.add("is-hidden__spinner")):document.querySelector(".not-found-notification").classList.add("disabled"),document.querySelector(".not-found-notification").classList.contains("disabled")}function S(){document.querySelector(".drop-box").classList.add("drop-box--is-hidden"),document.querySelector(".modal-thumb").innerHTML="",document.querySelector("body").classList.remove("overflow-hidden")}function q(){y(a?h(t,n):g(n)),window.scrollTo({top:0,behavior:"smooth"})}_.classList.add("is-hidden__spinner"),y(g(n)),r.addEventListener("click",(function(e){L(t.trim().length<1)&&(n=1,a=!0,_.classList.remove("is-hidden__spinner"),y(h(t,n)))})),i.addEventListener("input",(function(e){t=e.currentTarget.value})),d.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName)return;document.querySelector(".drop-box").classList.remove("drop-box--is-hidden");let t=`https://api.themoviedb.org/3/movie/${e.target.dataset.id}?api_key=afc22cf5c573169849cabd6217d3b7d3`;fetch(t).then((e=>e.json())).then((e=>{console.log(e),document.querySelector(".modal-thumb").insertAdjacentHTML("beforeend",function(e){return`<img class="modal__img" src="${f(e.poster_path)}" alt="" width="240">\n                <div class="modal__description-thumb">\n                    <h2 class="modal__title">${e.title}</h2>\n                    <ul class="movie-data">\n                        <li>\n                            <ul class="movie-data__name">\n                                <li>Vote / Votes</li>\n                                <li>Popularity</li>\n                                <li>Original Title</li>\n                                <li>Genre</li>\n                            </ul>\n                        </li>\n                        <li>\n                            <ul class="movie-data__content">\n                                <li class="movie-data__item">\n                                    <span class="movie-votes__first">${e.vote_average}</span> / <span class="movie-votes__sec">${e.vote_count}</span>\n                                </li>\n                                <li class="movie-data__item">\n                                    <span class="movie-popularity__item">${e.popularity}</span>\n                                </li>\n                                <li class="movie-data__item">\n                                    <span class="movie-orig-title__item">${e.original_title}</span>\n                                </li>\n                                <li class="movie-data__item">\n                                    <span class="movie-genre__item">${t=e.genres,t.map((e=>e.name)).join(", ")}</span>\n                                </li>\n                            </ul>\n                        </li>  \n                    </ul>\n                    \n                    <p class="movie-about">About</p>\n                    <p class="movie-about-text">${e.overview}</p>\n                    <ul class="modal-btns">\n                        <li class="modal-btns__item">\n                            <button class="button add-watched-btn" type="button">Add to Watched</button>\n                        </li>\n                        <li class="modal-btns__item">\n                            <button class="button add-queue-btn" type="button">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>`;var t}(e)),document.querySelector("body").classList.add("overflow-hidden")})).catch((e=>console.log(e)))})),l.addEventListener("click",(()=>S())),document.addEventListener("keydown",(e=>{"Escape"===e.code&&S()})),document.querySelector(".drop-box").addEventListener("click",(e=>{document.querySelector(".modal").contains(e.target)||S()})),u.addEventListener("click",(()=>{n<=1||(n-=1,q())})),p.addEventListener("click",(()=>{o<=n||(n=Number.parseInt(n)+1,q())})),b.addEventListener("click",(e=>{"BUTTON"===e.target.nodeName&&e.target.textContent&&"..."!==e.target.textContent&&(n=e.target.textContent,q())}));const N=document.querySelector(".authorization"),x=document.querySelector(".auth-modal"),I=document.querySelector(".modal__button"),w=document.querySelector("body");function C(e){x.classList.remove("open"),w.classList.remove("overflow-hidden")}N.addEventListener("click",(function(e){e.preventDefault(),x.classList.add("open"),w.classList.add("overflow-hidden")})),I.addEventListener("click",C),document.addEventListener("keydown",(e=>{"Escape"===e.code&&C()})),(()=>{const e={openModalBtn:document.querySelector("[modal-developers-open]"),closeModalBtn:document.querySelector("[modal-developers-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})();
//# sourceMappingURL=index.a66c1bf1.js.map
