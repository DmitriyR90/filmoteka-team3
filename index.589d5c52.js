!function(){var n;n=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"},{"id":10759,"name":"Action & Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":10762,"name":"Kids"},{"id":9648,"name":"Mystery"},{"id":10763,"name":"News"},{"id":10764,"name":"Reality"},{"id":10765,"name":"Sci-Fi & Fantasy"},{"id":10766,"name":"Soap"},{"id":10767,"name":"Talk"},{"id":10768,"name":"War & Politics"},{"id":37,"name":"Western"}]}');var e="https://api.themoviedb.org/3/",t="afc22cf5c573169849cabd6217d3b7d3",o="",i=1,a=1,c=!1,r=document.querySelector(".header__input"),s=document.querySelector(".search-btn"),d=document.querySelector(".movie-list"),l=document.querySelector(".modal__button"),m=document.querySelectorAll(".pagination-btn"),u=document.querySelector(".pagination-btn__main"),p=document.querySelector(".pagination-btn__arrow-left"),v=document.querySelector(".pagination-btn__arrow-right");function _(n){return"".concat(e,"trending/movie/week?api_key=").concat(t,"&page=").concat(n)}function g(n,o){return"".concat(e,"search/movie?api_key=").concat(t,"&query=").concat(n.trim(),"&page=").concat(o)}function f(e){fetch(e).then((function(n){return n.json()})).then((function(e){var t,o;console.log(e),h(void 0===e.results||e.results.length<1),0!==e.results.length&&(d.innerHTML="",a=e.total_pages,t=i,o=a,m[0].textContent=t-4>0?1:"",m[1].textContent=t-4>0?"...":"",m[2].textContent=t-2>0?t-2:"",m[3].textContent=t-1>0?t-1:"",u.textContent=t,m[5].textContent=t+1<=o?t+1:"",m[6].textContent=t+2<=o?t+2:"",m[7].textContent=t+4<=o?"...":"",m[8].textContent=t+4<=o?o:"",d.insertAdjacentHTML("beforeend",function(e){return e.results.map((function(e){var t=e.poster_path,o=e.id,i=e.title,a=e.genre_ids,c=e.release_date;return'<li class="movie-item">\n                    <img class="movie-img" src="https://image.tmdb.org/t/p/w300'.concat(t,'" data-id="').concat(o,'" alt="').concat(i,'" width="280">\n                    <h2 class="movie-title">').concat(i,'</h2>\n                    <p class="movie-description">').concat(function(e){return e.length<1?"Unknown genre":e.length>2?e.slice(0,2).map((function(e){for(var t=0;t<n.genres.length;t+=1)if(n.genres[t].id===e)return n.genres[t].name})).join(", ")+", others...":e.map((function(e){for(var t=0;t<n.genres.length;t+=1)if(n.genres[t].id===e)return n.genres[t].name})).join(", ")}(a)," | ").concat(function(n){var e="Unknown date";n&&(e=n.slice(0,4));return e}(c),"</p>\n                </li>")})).join("")}(e)))})).catch((function(n){return console.log(n)}))}function h(n){return n?document.querySelector(".not-found-notification").classList.remove("disabled"):document.querySelector(".not-found-notification").classList.add("disabled"),document.querySelector(".not-found-notification").classList.contains("disabled")}function b(){document.querySelector(".drop-box").classList.add("drop-box--is-hidden"),document.querySelector(".modal-thumb").innerHTML=""}f(_(i)),s.addEventListener("click",(function(n){h(o.trim().length<1)&&(c=!0,f(g(o,i=1)))})),r.addEventListener("input",(function(n){o=n.currentTarget.value})),d.addEventListener("click",(function(n){if("IMG"!==n.target.nodeName)return;document.querySelector(".drop-box").classList.remove("drop-box--is-hidden");var o="".concat(e,"movie/").concat(n.target.dataset.id,"?api_key=").concat(t);fetch(o).then((function(n){return n.json()})).then((function(n){console.log(n),document.querySelector(".modal-thumb").insertAdjacentHTML("beforeend",function(n){return'<img class="modal__img" src="https://image.tmdb.org/t/p/w300'.concat(n.poster_path,'" alt="" width="240">\n                <div class="modal__description-thumb">\n                    <h2 class="modal__title">').concat(n.title,'</h2>\n                    <ul class="movie-data">\n                        <ul class="movie-data__name">\n                            <li>Vote / Votes</li>\n                            <li>Popularity</li>\n                            <li>Original Title</li>\n                            <li>Genre</li>\n                        </ul>\n                    \n                        <ul class="movie-data__content">\n                            <li class="movie-data__item">\n                                <span class="movie-votes__first">').concat(n.vote_average,'</span> / <span class="movie-votes__sec">').concat(n.vote_count,'</span>\n                            </li>\n                            <li class="movie-data__item">\n                                <span class="movie-popularity__item">').concat(n.popularity,'</span>\n                            </li>\n                            <li class="movie-data__item">\n                                <span class="movie-orig-title__item">').concat(n.original_title,'</span>\n                            </li>\n                            <li class="movie-data__item">\n                                <span class="movie-genre__item">').concat((e=n.genres,e.map((function(n){return n.name})).join(", ")),'</span>\n                            </li>\n                        </ul>\n                    \n                    </ul>\n                    \n                    <p class="movie-about">About</p>\n                    <p class="movie-about-text">').concat(n.overview,'</p>\n                    <ul class="modal-btns">\n                        <li class="modal-btns__item">\n                            <button class="button add-watched-btn" type="button">Add to Watched</button>\n                        </li>\n                        <li class="modal-btns__item">\n                            <button class="button add-queue-btn" type="button">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>');var e}(n))})).catch((function(n){return console.log(n)}))})),l.addEventListener("click",(function(){return b()})),document.addEventListener("keydown",(function(n){"Escape"===n.code&&b()})),document.querySelector(".drop-box").addEventListener("click",(function(n){document.querySelector(".modal").contains(n.target)||b()})),p.addEventListener("click",(function(){i<=1||(i-=1,f(c?g(o,i):_(i)),window.scrollTo({top:0,behavior:"smooth"}))})),v.addEventListener("click",(function(){a<=i||(i+=1,f(c?g(o,i):_(i)),window.scrollTo({top:0,behavior:"smooth"}))}))}();
//# sourceMappingURL=index.589d5c52.js.map
