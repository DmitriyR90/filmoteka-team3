!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequired7c6=o),o.register("iE7OH",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("7raIt",(function(e,t){e.exports=o("aNJCr").getBundleURL("6rRUj")+o("iE7OH").resolve("iXtly")})),o.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=t),t}})),o("iE7OH").register(JSON.parse('{"6rRUj":"librarypage.ffc1082c.js","iXtly":"noposter.751b8d89.jpg","iLoYJ":"index.fefccd89.js"}'));var c=o("bpxeT"),a=o("2TvXO");o("jHF6Y");var s=o("6Urw1"),u=o("c69b4"),l=o("3SEMc"),f=((0,s.initializeApp)({apiKey:"AIzaSyBQAPWu6PN62rmzf-LlZS504qxL8csmmBc",authDomain:"filmoteka-bdb19.firebaseapp.com",projectId:"filmoteka-bdb19",storageBucket:"filmoteka-bdb19.appspot.com",messagingSenderId:"1051248700372",appId:"1:1051248700372:web:2dc6796345cd1c6fa94441"}),(0,u.getFirestore)()),d=(0,l.getAuth)(),p=document.querySelector(".info"),v=document.querySelector(".movie-list"),g=document.querySelector(".queue-btn"),m=document.querySelector(".watched-btn");function h(e){e.target===m?(m.classList.add("active-btn"),g.classList.remove("active-btn")):e.target===g&&(m.classList.remove("active-btn"),g.classList.add("active-btn"));var t=e.target.id;(0,l.onAuthStateChanged)(d,(function(e){if(e)b(e.uid).then((function(e){return e})).then((function(e){var n=e[t];console.log(n),x(n)}));else console.log("user is logout")}))}function b(e){return w.apply(this,arguments)}function w(){return(w=t(c)(t(a).mark((function e(n){var r,i;return t(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getDoc)((0,u.doc)(f,"users","".concat(n)));case 2:if(!(r=e.sent).exists()){e.next=6;break}return i=r.data(),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t;v.innerHTML="",e.length<1?p.classList.remove("is-stealth"):(t=e.map((function(e){var t=e.img,n=e.id,r=e.title,i=e.genres,c=e.release_date;return'<li class="movie-item">\n                    <img class="movie-img" src="'.concat(function(e){var t=new Image;t.src=o("7raIt");var n=e;return null!==e&&""!==e||(n=t.src),n}(t),'" data-id="').concat(n,'" alt="').concat(r,'" width="280">\n                    <h2 class="movie-title">').concat(r,'</h2>\n                    <p class="movie-description">').concat(function(e){if(""===e)return"Unknown genre";if(e.includes(",")){var t=e.split(",");return t.length>2?t.slice(0,2).join(", ")+", others...":t.join(", ")}return e}(i)," | ").concat(function(e){var t="Unknown date";return e&&(t=e.slice(0,4)),t}(c),"</p>\n                </li>")})).join(""),v.insertAdjacentHTML("beforeend",t))}m.classList.add("active-btn"),g.classList.remove("active-btn"),(0,l.onAuthStateChanged)(d,(function(e){e?b(e.uid).then((function(e){return e})).then((function(e){x(e.filmsWatched)})):console.log("user is logout")})),g.addEventListener("click",h),m.addEventListener("click",h)}();
//# sourceMappingURL=librarypage.ffc1082c.js.map
