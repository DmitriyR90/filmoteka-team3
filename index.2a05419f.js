var e;e=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"},{"id":10759,"name":"Action & Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":10762,"name":"Kids"},{"id":9648,"name":"Mystery"},{"id":10763,"name":"News"},{"id":10764,"name":"Reality"},{"id":10765,"name":"Sci-Fi & Fantasy"},{"id":10766,"name":"Soap"},{"id":10767,"name":"Talk"},{"id":10768,"name":"War & Politics"},{"id":37,"name":"Western"}]}');let t="",n=1,i=1,o=!1;const a=document.querySelector(".header__input"),d=document.querySelector(".search-btn"),s=document.querySelector(".movie-list"),r=document.querySelector(".modal__button"),l=document.querySelectorAll(".pagination-btn"),c=document.querySelector(".pagination-btn__main"),m=document.querySelector(".pagination-btn__arrow-left"),u=document.querySelector(".pagination-btn__arrow-right");function p(e){return`https://api.themoviedb.org/3/trending/movie/week?api_key=afc22cf5c573169849cabd6217d3b7d3&page=${e}`}function v(e,t){return`https://api.themoviedb.org/3/search/movie?api_key=afc22cf5c573169849cabd6217d3b7d3&query=${e.trim()}&page=${t}`}function _(t){fetch(t).then((e=>e.json())).then((t=>{var o,a;console.log(t),g(void 0===t.results||t.results.length<1),0!==t.results.length&&(s.innerHTML="",i=t.total_pages,o=n,a=i,l[0].textContent=o-4>0?1:"",l[1].textContent=o-4>0?"...":"",l[2].textContent=o-2>0?o-2:"",l[3].textContent=o-1>0?o-1:"",c.textContent=o,l[5].textContent=o+1<=a?o+1:"",l[6].textContent=o+2<=a?o+2:"",l[7].textContent=o+4<=a?"...":"",l[8].textContent=o+4<=a?a:"",s.insertAdjacentHTML("beforeend",function(t){return t.results.map((({poster_path:t,id:n,title:i,genre_ids:o,release_date:a})=>`<li class="movie-item">\n                    <img class="movie-img" src="https://image.tmdb.org/t/p/w300${t}" data-id="${n}" alt="${i}" width="280">\n                    <h2 class="movie-title">${i}</h2>\n                    <p class="movie-description">${function(t){return t.length<1?"Unknown genre":t.length>2?t.slice(0,2).map((t=>{for(let n=0;n<e.genres.length;n+=1)if(e.genres[n].id===t)return e.genres[n].name})).join(", ")+", others...":t.map((t=>{for(let n=0;n<e.genres.length;n+=1)if(e.genres[n].id===t)return e.genres[n].name})).join(", ")}(o)} | ${function(e){let t="Unknown date";e&&(t=e.slice(0,4));return t}(a)}</p>\n                </li>`)).join("")}(t)))})).catch((e=>console.log(e)))}function g(e){return e?document.querySelector(".not-found-notification").classList.remove("disabled"):document.querySelector(".not-found-notification").classList.add("disabled"),document.querySelector(".not-found-notification").classList.contains("disabled")}function b(){document.querySelector(".drop-box").classList.add("drop-box--is-hidden"),document.querySelector(".modal-thumb").innerHTML=""}_(p(n)),d.addEventListener("click",(function(e){g(t.trim().length<1)&&(n=1,o=!0,_(v(t,n)))})),a.addEventListener("input",(function(e){t=e.currentTarget.value})),s.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName)return;document.querySelector(".drop-box").classList.remove("drop-box--is-hidden");let t=`https://api.themoviedb.org/3/movie/${e.target.dataset.id}?api_key=afc22cf5c573169849cabd6217d3b7d3`;fetch(t).then((e=>e.json())).then((e=>{console.log(e),document.querySelector(".modal-thumb").insertAdjacentHTML("beforeend",function(e){return`<img class="modal__img" src="https://image.tmdb.org/t/p/w300${e.poster_path}" alt="" width="240">\n                <div class="modal__description-thumb">\n                    <h2 class="modal__title">${e.title}</h2>\n                    <ul class="movie-data">\n                        <ul class="movie-data__name">\n                            <li>Vote / Votes</li>\n                            <li>Popularity</li>\n                            <li>Original Title</li>\n                            <li>Genre</li>\n                        </ul>\n                    \n                        <ul class="movie-data__content">\n                            <li class="movie-data__item">\n                                <span class="movie-votes__first">${e.vote_average}</span> / <span class="movie-votes__sec">${e.vote_count}</span>\n                            </li>\n                            <li class="movie-data__item">\n                                <span class="movie-popularity__item">${e.popularity}</span>\n                            </li>\n                            <li class="movie-data__item">\n                                <span class="movie-orig-title__item">${e.original_title}</span>\n                            </li>\n                            <li class="movie-data__item">\n                                <span class="movie-genre__item">${t=e.genres,t.map((e=>e.name)).join(", ")}</span>\n                            </li>\n                        </ul>\n                    \n                    </ul>\n                    \n                    <p class="movie-about">About</p>\n                    <p class="movie-about-text">${e.overview}</p>\n                    <ul class="modal-btns">\n                        <li class="modal-btns__item">\n                            <button class="button add-watched-btn" type="button">Add to Watched</button>\n                        </li>\n                        <li class="modal-btns__item">\n                            <button class="button add-queue-btn" type="button">Add to queue</button>\n                        </li>\n                    </ul>\n                </div>`;var t}(e))})).catch((e=>console.log(e)))})),r.addEventListener("click",(()=>b())),document.addEventListener("keydown",(e=>{"Escape"===e.code&&b()})),document.querySelector(".drop-box").addEventListener("click",(e=>{document.querySelector(".modal").contains(e.target)||b()})),m.addEventListener("click",(()=>{n<=1||(n-=1,_(o?v(t,n):p(n)),window.scrollTo({top:0,behavior:"smooth"}))})),u.addEventListener("click",(()=>{i<=n||(n+=1,_(o?v(t,n):p(n)),window.scrollTo({top:0,behavior:"smooth"}))}));
//# sourceMappingURL=index.2a05419f.js.map
